(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function tc(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const mm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ym=tc(mm);function uf(t){return!!t||t===""}function nc(t){if(X(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Be(s)?bm(s):nc(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(Be(t))return t;if(Ae(t))return t}}const vm=/;(?![^(]*\))/g,wm=/:(.+)/;function bm(t){const e={};return t.split(vm).forEach(n=>{if(n){const s=n.split(wm);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function sc(t){let e="";if(Be(t))e=t;else if(X(t))for(let n=0;n<t.length;n++){const s=sc(t[n]);s&&(e+=s+" ")}else if(Ae(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Do=t=>Be(t)?t:t==null?"":X(t)||Ae(t)&&(t.toString===pf||!te(t.toString))?JSON.stringify(t,hf,2):String(t),hf=(t,e)=>e&&e.__v_isRef?hf(t,e.value):hs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:ff(e)?{[`Set(${e.size})`]:[...e.values()]}:Ae(e)&&!X(e)&&!gf(e)?String(e):e,Ce={},us=[],xt=()=>{},Em=()=>!1,Tm=/^on[^a-z]/,Bi=t=>Tm.test(t),rc=t=>t.startsWith("onUpdate:"),We=Object.assign,ic=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Cm=Object.prototype.hasOwnProperty,ce=(t,e)=>Cm.call(t,e),X=Array.isArray,hs=t=>Vi(t)==="[object Map]",ff=t=>Vi(t)==="[object Set]",te=t=>typeof t=="function",Be=t=>typeof t=="string",oc=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",df=t=>Ae(t)&&te(t.then)&&te(t.catch),pf=Object.prototype.toString,Vi=t=>pf.call(t),Im=t=>Vi(t).slice(8,-1),gf=t=>Vi(t)==="[object Object]",ac=t=>Be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ii=tc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ui=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},_m=/-(\w)/g,Ut=Ui(t=>t.replace(_m,(e,n)=>n?n.toUpperCase():"")),Sm=/\B([A-Z])/g,As=Ui(t=>t.replace(Sm,"-$1").toLowerCase()),es=Ui(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ro=Ui(t=>t?`on${es(t)}`:""),or=(t,e)=>!Object.is(t,e),ko=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},di=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},mf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Nl;const Am=()=>Nl||(Nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Lt;class yf{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Lt&&(this.parent=Lt,this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Lt;try{return Lt=this,e()}finally{Lt=n}}}on(){Lt=this}off(){Lt=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function xm(t){return new yf(t)}function Dm(t,e=Lt){e&&e.active&&e.effects.push(t)}const cc=t=>{const e=new Set(t);return e.w=0,e.n=0,e},vf=t=>(t.w&gn)>0,wf=t=>(t.n&gn)>0,Rm=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=gn},km=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];vf(r)&&!wf(r)?r.delete(t):e[n++]=r,r.w&=~gn,r.n&=~gn}e.length=n}},oa=new WeakMap;let Ks=0,gn=1;const aa=30;let St;const Vn=Symbol(""),ca=Symbol("");class lc{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Dm(this,s)}run(){if(!this.active)return this.fn();let e=St,n=hn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=St,St=this,hn=!0,gn=1<<++Ks,Ks<=aa?Rm(this):Ol(this),this.fn()}finally{Ks<=aa&&km(this),gn=1<<--Ks,St=this.parent,hn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){St===this?this.deferStop=!0:this.active&&(Ol(this),this.onStop&&this.onStop(),this.active=!1)}}function Ol(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let hn=!0;const bf=[];function xs(){bf.push(hn),hn=!1}function Ds(){const t=bf.pop();hn=t===void 0?!0:t}function yt(t,e,n){if(hn&&St){let s=oa.get(t);s||oa.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=cc()),Ef(r)}}function Ef(t,e){let n=!1;Ks<=aa?wf(t)||(t.n|=gn,n=!vf(t)):n=!t.has(St),n&&(t.add(St),St.deps.push(t))}function Qt(t,e,n,s,r,i){const o=oa.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&X(t))o.forEach((c,l)=>{(l==="length"||l>=s)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":X(t)?ac(n)&&a.push(o.get("length")):(a.push(o.get(Vn)),hs(t)&&a.push(o.get(ca)));break;case"delete":X(t)||(a.push(o.get(Vn)),hs(t)&&a.push(o.get(ca)));break;case"set":hs(t)&&a.push(o.get(Vn));break}if(a.length===1)a[0]&&la(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);la(cc(c))}}function la(t,e){const n=X(t)?t:[...t];for(const s of n)s.computed&&Ll(s);for(const s of n)s.computed||Ll(s)}function Ll(t,e){(t!==St||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Nm=tc("__proto__,__v_isRef,__isVue"),Tf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(oc)),Om=uc(),Lm=uc(!1,!0),Pm=uc(!0),Pl=Mm();function Mm(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=he(this);for(let i=0,o=this.length;i<o;i++)yt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(he)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){xs();const s=he(this)[e].apply(this,n);return Ds(),s}}),t}function uc(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Jm:Af:e?Sf:_f).get(s))return s;const o=X(s);if(!t&&o&&ce(Pl,r))return Reflect.get(Pl,r,i);const a=Reflect.get(s,r,i);return(oc(r)?Tf.has(r):Nm(r))||(t||yt(s,"get",r),e)?a:qe(a)?o&&ac(r)?a:a.value:Ae(a)?t?Hi(a):gt(a):a}}const Fm=Cf(),$m=Cf(!0);function Cf(t=!1){return function(n,s,r,i){let o=n[s];if(ys(o)&&qe(o)&&!qe(r))return!1;if(!t&&(!pi(r)&&!ys(r)&&(o=he(o),r=he(r)),!X(n)&&qe(o)&&!qe(r)))return o.value=r,!0;const a=X(n)&&ac(s)?Number(s)<n.length:ce(n,s),c=Reflect.set(n,s,r,i);return n===he(i)&&(a?or(r,o)&&Qt(n,"set",s,r):Qt(n,"add",s,r)),c}}function Bm(t,e){const n=ce(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Qt(t,"delete",e,void 0),s}function Vm(t,e){const n=Reflect.has(t,e);return(!oc(e)||!Tf.has(e))&&yt(t,"has",e),n}function Um(t){return yt(t,"iterate",X(t)?"length":Vn),Reflect.ownKeys(t)}const If={get:Om,set:Fm,deleteProperty:Bm,has:Vm,ownKeys:Um},jm={get:Pm,set(t,e){return!0},deleteProperty(t,e){return!0}},Hm=We({},If,{get:Lm,set:$m}),hc=t=>t,ji=t=>Reflect.getPrototypeOf(t);function jr(t,e,n=!1,s=!1){t=t.__v_raw;const r=he(t),i=he(e);n||(e!==i&&yt(r,"get",e),yt(r,"get",i));const{has:o}=ji(r),a=s?hc:n?pc:ar;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Hr(t,e=!1){const n=this.__v_raw,s=he(n),r=he(t);return e||(t!==r&&yt(s,"has",t),yt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function qr(t,e=!1){return t=t.__v_raw,!e&&yt(he(t),"iterate",Vn),Reflect.get(t,"size",t)}function Ml(t){t=he(t);const e=he(this);return ji(e).has.call(e,t)||(e.add(t),Qt(e,"add",t,t)),this}function Fl(t,e){e=he(e);const n=he(this),{has:s,get:r}=ji(n);let i=s.call(n,t);i||(t=he(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?or(e,o)&&Qt(n,"set",t,e):Qt(n,"add",t,e),this}function $l(t){const e=he(this),{has:n,get:s}=ji(e);let r=n.call(e,t);r||(t=he(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Qt(e,"delete",t,void 0),i}function Bl(){const t=he(this),e=t.size!==0,n=t.clear();return e&&Qt(t,"clear",void 0,void 0),n}function zr(t,e){return function(s,r){const i=this,o=i.__v_raw,a=he(o),c=e?hc:t?pc:ar;return!t&&yt(a,"iterate",Vn),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function Kr(t,e,n){return function(...s){const r=this.__v_raw,i=he(r),o=hs(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?hc:e?pc:ar;return!e&&yt(i,"iterate",c?ca:Vn),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function rn(t){return function(...e){return t==="delete"?!1:this}}function qm(){const t={get(i){return jr(this,i)},get size(){return qr(this)},has:Hr,add:Ml,set:Fl,delete:$l,clear:Bl,forEach:zr(!1,!1)},e={get(i){return jr(this,i,!1,!0)},get size(){return qr(this)},has:Hr,add:Ml,set:Fl,delete:$l,clear:Bl,forEach:zr(!1,!0)},n={get(i){return jr(this,i,!0)},get size(){return qr(this,!0)},has(i){return Hr.call(this,i,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:zr(!0,!1)},s={get(i){return jr(this,i,!0,!0)},get size(){return qr(this,!0)},has(i){return Hr.call(this,i,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:zr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Kr(i,!1,!1),n[i]=Kr(i,!0,!1),e[i]=Kr(i,!1,!0),s[i]=Kr(i,!0,!0)}),[t,n,e,s]}const[zm,Km,Wm,Gm]=qm();function fc(t,e){const n=e?t?Gm:Wm:t?Km:zm;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ce(n,r)&&r in s?n:s,r,i)}const Qm={get:fc(!1,!1)},Ym={get:fc(!1,!0)},Xm={get:fc(!0,!1)},_f=new WeakMap,Sf=new WeakMap,Af=new WeakMap,Jm=new WeakMap;function Zm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ey(t){return t.__v_skip||!Object.isExtensible(t)?0:Zm(Im(t))}function gt(t){return ys(t)?t:dc(t,!1,If,Qm,_f)}function xf(t){return dc(t,!1,Hm,Ym,Sf)}function Hi(t){return dc(t,!0,jm,Xm,Af)}function dc(t,e,n,s,r){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=ey(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function fs(t){return ys(t)?fs(t.__v_raw):!!(t&&t.__v_isReactive)}function ys(t){return!!(t&&t.__v_isReadonly)}function pi(t){return!!(t&&t.__v_isShallow)}function Df(t){return fs(t)||ys(t)}function he(t){const e=t&&t.__v_raw;return e?he(e):t}function Rf(t){return di(t,"__v_skip",!0),t}const ar=t=>Ae(t)?gt(t):t,pc=t=>Ae(t)?Hi(t):t;function kf(t){hn&&St&&(t=he(t),Ef(t.dep||(t.dep=cc())))}function Nf(t,e){t=he(t),t.dep&&la(t.dep)}function qe(t){return!!(t&&t.__v_isRef===!0)}function De(t){return Lf(t,!1)}function Of(t){return Lf(t,!0)}function Lf(t,e){return qe(t)?t:new ty(t,e)}class ty{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:he(e),this._value=n?e:ar(e)}get value(){return kf(this),this._value}set value(e){const n=this.__v_isShallow||pi(e)||ys(e);e=n?e:he(e),or(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ar(e),Nf(this))}}function Kt(t){return qe(t)?t.value:t}const ny={get:(t,e,n)=>Kt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return qe(r)&&!qe(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Pf(t){return fs(t)?t:new Proxy(t,ny)}function sy(t){const e=X(t)?new Array(t.length):{};for(const n in t)e[n]=iy(t,n);return e}class ry{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function iy(t,e,n){const s=t[e];return qe(s)?s:new ry(t,e,n)}var Mf;class oy{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Mf]=!1,this._dirty=!0,this.effect=new lc(e,()=>{this._dirty||(this._dirty=!0,Nf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=he(this);return kf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Mf="__v_isReadonly";function ay(t,e,n=!1){let s,r;const i=te(t);return i?(s=t,r=xt):(s=t.get,r=t.set),new oy(s,r,i||!r,n)}function fn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){qi(i,e,n)}return r}function Et(t,e,n,s){if(te(t)){const i=fn(t,e,n,s);return i&&df(i)&&i.catch(o=>{qi(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Et(t[i],e,n,s));return r}function qi(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){fn(c,null,10,[t,o,a]);return}}cy(t,n,r,s)}function cy(t,e,n,s=!0){console.error(t)}let cr=!1,ua=!1;const Ye=[];let Ft=0;const ds=[];let qt=null,Nn=0;const Ff=Promise.resolve();let gc=null;function zi(t){const e=gc||Ff;return t?e.then(this?t.bind(this):t):e}function ly(t){let e=Ft+1,n=Ye.length;for(;e<n;){const s=e+n>>>1;lr(Ye[s])<t?e=s+1:n=s}return e}function mc(t){(!Ye.length||!Ye.includes(t,cr&&t.allowRecurse?Ft+1:Ft))&&(t.id==null?Ye.push(t):Ye.splice(ly(t.id),0,t),$f())}function $f(){!cr&&!ua&&(ua=!0,gc=Ff.then(Vf))}function uy(t){const e=Ye.indexOf(t);e>Ft&&Ye.splice(e,1)}function hy(t){X(t)?ds.push(...t):(!qt||!qt.includes(t,t.allowRecurse?Nn+1:Nn))&&ds.push(t),$f()}function Vl(t,e=cr?Ft+1:0){for(;e<Ye.length;e++){const n=Ye[e];n&&n.pre&&(Ye.splice(e,1),e--,n())}}function Bf(t){if(ds.length){const e=[...new Set(ds)];if(ds.length=0,qt){qt.push(...e);return}for(qt=e,qt.sort((n,s)=>lr(n)-lr(s)),Nn=0;Nn<qt.length;Nn++)qt[Nn]();qt=null,Nn=0}}const lr=t=>t.id==null?1/0:t.id,fy=(t,e)=>{const n=lr(t)-lr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Vf(t){ua=!1,cr=!0,Ye.sort(fy);const e=xt;try{for(Ft=0;Ft<Ye.length;Ft++){const n=Ye[Ft];n&&n.active!==!1&&fn(n,null,14)}}finally{Ft=0,Ye.length=0,Bf(),cr=!1,gc=null,(Ye.length||ds.length)&&Vf()}}function dy(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ce;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Ce;f&&(r=n.map(p=>p.trim())),h&&(r=n.map(mf))}let a,c=s[a=Ro(e)]||s[a=Ro(Ut(e))];!c&&i&&(c=s[a=Ro(As(e))]),c&&Et(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Et(l,t,6,r)}}function Uf(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!te(t)){const c=l=>{const u=Uf(l,e,!0);u&&(a=!0,We(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ae(t)&&s.set(t,null),null):(X(i)?i.forEach(c=>o[c]=null):We(o,i),Ae(t)&&s.set(t,o),o)}function Ki(t,e){return!t||!Bi(e)?!1:(e=e.slice(2).replace(/Once$/,""),ce(t,e[0].toLowerCase()+e.slice(1))||ce(t,As(e))||ce(t,e))}let bt=null,jf=null;function gi(t){const e=bt;return bt=t,jf=t&&t.type.__scopeId||null,e}function pt(t,e=bt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Jl(-1);const i=gi(e),o=t(...r);return gi(i),s._d&&Jl(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function No(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:v}=t;let b,T;const x=gi(t);try{if(n.shapeFlag&4){const K=r||s;b=Mt(u.call(K,K,h,i,p,f,m)),T=c}else{const K=e;b=Mt(K.length>1?K(i,{attrs:c,slots:a,emit:l}):K(i,null)),T=e.props?c:py(c)}}catch(K){Qs.length=0,qi(K,t,1),b=G(Gt)}let F=b;if(T&&v!==!1){const K=Object.keys(T),{shapeFlag:B}=F;K.length&&B&7&&(o&&K.some(rc)&&(T=gy(T,o)),F=mn(F,T))}return n.dirs&&(F=mn(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),b=F,gi(x),b}const py=t=>{let e;for(const n in t)(n==="class"||n==="style"||Bi(n))&&((e||(e={}))[n]=t[n]);return e},gy=(t,e)=>{const n={};for(const s in t)(!rc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function my(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Ul(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Ki(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ul(s,o,l):!0:!!o;return!1}function Ul(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ki(n,i))return!0}return!1}function yy({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const vy=t=>t.__isSuspense;function wy(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):hy(t)}function dn(t,e){if($e){let n=$e.provides;const s=$e.parent&&$e.parent.provides;s===n&&(n=$e.provides=Object.create(s)),n[t]=e}}function rt(t,e,n=!1){const s=$e||bt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&te(e)?e.call(s.proxy):e}}function yc(t,e){return vc(t,null,e)}const jl={};function Wt(t,e,n){return vc(t,e,n)}function vc(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ce){const a=$e;let c,l=!1,u=!1;if(qe(t)?(c=()=>t.value,l=pi(t)):fs(t)?(c=()=>t,s=!0):X(t)?(u=!0,l=t.some(T=>fs(T)||pi(T)),c=()=>t.map(T=>{if(qe(T))return T.value;if(fs(T))return Pn(T);if(te(T))return fn(T,a,2)})):te(t)?e?c=()=>fn(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Et(t,a,3,[f])}:c=xt,e&&s){const T=c;c=()=>Pn(T())}let h,f=T=>{h=b.onStop=()=>{fn(T,a,4)}};if(hr)return f=xt,e?n&&Et(e,a,3,[c(),u?[]:void 0,f]):c(),xt;let p=u?[]:jl;const m=()=>{if(!!b.active)if(e){const T=b.run();(s||l||(u?T.some((x,F)=>or(x,p[F])):or(T,p)))&&(h&&h(),Et(e,a,3,[T,p===jl?void 0:p,f]),p=T)}else b.run()};m.allowRecurse=!!e;let v;r==="sync"?v=m:r==="post"?v=()=>at(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),v=()=>mc(m));const b=new lc(c,v);return e?n?m():p=b.run():r==="post"?at(b.run.bind(b),a&&a.suspense):b.run(),()=>{b.stop(),a&&a.scope&&ic(a.scope.effects,b)}}function by(t,e,n){const s=this.proxy,r=Be(t)?t.includes(".")?Hf(s,t):()=>s[t]:t.bind(s,s);let i;te(e)?i=e:(i=e.handler,n=e);const o=$e;vs(this);const a=vc(r,i.bind(s),n);return o?vs(o):Un(),a}function Hf(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Pn(t,e){if(!Ae(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),qe(t))Pn(t.value,e);else if(X(t))for(let n=0;n<t.length;n++)Pn(t[n],e);else if(ff(t)||hs(t))t.forEach(n=>{Pn(n,e)});else if(gf(t))for(const n in t)Pn(t[n],e);return t}function Ey(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yi(()=>{t.isMounted=!0}),wc(()=>{t.isUnmounting=!0}),t}const wt=[Function,Array],Ty={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},setup(t,{slots:e}){const n=_c(),s=Ey();let r;return()=>{const i=e.default&&Kf(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const v of i)if(v.type!==Gt){o=v;break}}const a=he(t),{mode:c}=a;if(s.isLeaving)return Oo(o);const l=Hl(o);if(!l)return Oo(o);const u=ha(l,a,s,n);fa(l,u);const h=n.subTree,f=h&&Hl(h);let p=!1;const{getTransitionKey:m}=l.type;if(m){const v=m();r===void 0?r=v:v!==r&&(r=v,p=!0)}if(f&&f.type!==Gt&&(!On(l,f)||p)){const v=ha(f,a,s,n);if(fa(f,v),c==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update()},Oo(o);c==="in-out"&&l.type!==Gt&&(v.delayLeave=(b,T,x)=>{const F=zf(s,f);F[String(f.key)]=f,b._leaveCb=()=>{T(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=x})}return o}}},qf=Ty;function zf(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ha(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:v,onAppear:b,onAfterAppear:T,onAppearCancelled:x}=e,F=String(t.key),K=zf(n,t),B=($,U)=>{$&&Et($,s,9,U)},ne=($,U)=>{const se=U[1];B($,U),X($)?$.every(de=>de.length<=1)&&se():$.length<=1&&se()},P={mode:i,persisted:o,beforeEnter($){let U=a;if(!n.isMounted)if(r)U=v||a;else return;$._leaveCb&&$._leaveCb(!0);const se=K[F];se&&On(t,se)&&se.el._leaveCb&&se.el._leaveCb(),B(U,[$])},enter($){let U=c,se=l,de=u;if(!n.isMounted)if(r)U=b||c,se=T||l,de=x||u;else return;let O=!1;const pe=$._enterCb=ke=>{O||(O=!0,ke?B(de,[$]):B(se,[$]),P.delayedLeave&&P.delayedLeave(),$._enterCb=void 0)};U?ne(U,[$,pe]):pe()},leave($,U){const se=String(t.key);if($._enterCb&&$._enterCb(!0),n.isUnmounting)return U();B(h,[$]);let de=!1;const O=$._leaveCb=pe=>{de||(de=!0,U(),pe?B(m,[$]):B(p,[$]),$._leaveCb=void 0,K[se]===t&&delete K[se])};K[se]=t,f?ne(f,[$,O]):O()},clone($){return ha($,e,n,s)}};return P}function Oo(t){if(Gi(t))return t=mn(t),t.children=null,t}function Hl(t){return Gi(t)?t.children?t.children[0]:void 0:t}function fa(t,e){t.shapeFlag&6&&t.component?fa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Kf(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===lt?(o.patchFlag&128&&r++,s=s.concat(Kf(o.children,e,a))):(e||o.type!==Gt)&&s.push(a!=null?mn(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Wi(t){return te(t)?{setup:t,name:t.name}:t}const oi=t=>!!t.type.__asyncLoader,Gi=t=>t.type.__isKeepAlive;function Cy(t,e){Wf(t,"a",e)}function Iy(t,e){Wf(t,"da",e)}function Wf(t,e,n=$e){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Qi(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Gi(r.parent.vnode)&&_y(s,e,n,r),r=r.parent}}function _y(t,e,n,s){const r=Qi(e,t,s,!0);Qf(()=>{ic(s[e],r)},n)}function Qi(t,e,n=$e,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;xs(),vs(n);const a=Et(e,n,t,o);return Un(),Ds(),a});return s?r.unshift(i):r.push(i),i}}const tn=t=>(e,n=$e)=>(!hr||t==="sp")&&Qi(t,e,n),Gf=tn("bm"),Yi=tn("m"),Sy=tn("bu"),Ay=tn("u"),wc=tn("bum"),Qf=tn("um"),xy=tn("sp"),Dy=tn("rtg"),Ry=tn("rtc");function ky(t,e=$e){Qi("ec",t,e)}function ql(t,e){const n=bt;if(n===null)return t;const s=Ji(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=Ce]=e[i];te(o)&&(o={mounted:o,updated:o}),o.deep&&Pn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l})}return t}function _n(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(xs(),Et(c,n,8,[t.el,a,t,e]),Ds())}}const Yf="components",Ny="directives";function Oy(t,e){return Xf(Yf,t,!0,e)||t}const Ly=Symbol();function Py(t){return Xf(Ny,t)}function Xf(t,e,n=!0,s=!1){const r=bt||$e;if(r){const i=r.type;if(t===Yf){const a=lv(i,!1);if(a&&(a===e||a===Ut(e)||a===es(Ut(e))))return i}const o=zl(r[t]||i[t],e)||zl(r.appContext[t],e);return!o&&s?i:o}}function zl(t,e){return t&&(t[e]||t[Ut(e)]||t[es(Ut(e))])}function Wr(t,e,n,s){let r;const i=n&&n[s];if(X(t)||Be(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Ae(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const da=t=>t?cd(t)?Ji(t)||t.proxy:da(t.parent):null,mi=We(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>da(t.parent),$root:t=>da(t.root),$emit:t=>t.emit,$options:t=>bc(t),$forceUpdate:t=>t.f||(t.f=()=>mc(t.update)),$nextTick:t=>t.n||(t.n=zi.bind(t.proxy)),$watch:t=>by.bind(t)}),My={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(s!==Ce&&ce(s,e))return o[e]=1,s[e];if(r!==Ce&&ce(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&ce(l,e))return o[e]=3,i[e];if(n!==Ce&&ce(n,e))return o[e]=4,n[e];pa&&(o[e]=0)}}const u=mi[e];let h,f;if(u)return e==="$attrs"&&yt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ce&&ce(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,ce(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return r!==Ce&&ce(r,e)?(r[e]=n,!0):s!==Ce&&ce(s,e)?(s[e]=n,!0):ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ce&&ce(t,o)||e!==Ce&&ce(e,o)||(a=i[0])&&ce(a,o)||ce(s,o)||ce(mi,o)||ce(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let pa=!0;function Fy(t){const e=bc(t),n=t.proxy,s=t.ctx;pa=!1,e.beforeCreate&&Kl(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:v,deactivated:b,beforeDestroy:T,beforeUnmount:x,destroyed:F,unmounted:K,render:B,renderTracked:ne,renderTriggered:P,errorCaptured:$,serverPrefetch:U,expose:se,inheritAttrs:de,components:O,directives:pe,filters:ke}=e;if(l&&$y(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const me in o){const ge=o[me];te(ge)&&(s[me]=ge.bind(n))}if(r){const me=r.call(n,n);Ae(me)&&(t.data=gt(me))}if(pa=!0,i)for(const me in i){const ge=i[me],Je=te(ge)?ge.bind(n,n):te(ge.get)?ge.get.bind(n,n):xt,nn=!te(ge)&&te(ge.set)?ge.set.bind(n):xt,Ze=W({get:Je,set:nn});Object.defineProperty(s,me,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:it=>Ze.value=it})}if(a)for(const me in a)Jf(a[me],s,n,me);if(c){const me=te(c)?c.call(n):c;Reflect.ownKeys(me).forEach(ge=>{dn(ge,me[ge])})}u&&Kl(u,t,"c");function _e(me,ge){X(ge)?ge.forEach(Je=>me(Je.bind(n))):ge&&me(ge.bind(n))}if(_e(Gf,h),_e(Yi,f),_e(Sy,p),_e(Ay,m),_e(Cy,v),_e(Iy,b),_e(ky,$),_e(Ry,ne),_e(Dy,P),_e(wc,x),_e(Qf,K),_e(xy,U),X(se))if(se.length){const me=t.exposed||(t.exposed={});se.forEach(ge=>{Object.defineProperty(me,ge,{get:()=>n[ge],set:Je=>n[ge]=Je})})}else t.exposed||(t.exposed={});B&&t.render===xt&&(t.render=B),de!=null&&(t.inheritAttrs=de),O&&(t.components=O),pe&&(t.directives=pe)}function $y(t,e,n=xt,s=!1){X(t)&&(t=ga(t));for(const r in t){const i=t[r];let o;Ae(i)?"default"in i?o=rt(i.from||r,i.default,!0):o=rt(i.from||r):o=rt(i),qe(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function Kl(t,e,n){Et(X(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Jf(t,e,n,s){const r=s.includes(".")?Hf(n,s):()=>n[s];if(Be(t)){const i=e[t];te(i)&&Wt(r,i)}else if(te(t))Wt(r,t.bind(n));else if(Ae(t))if(X(t))t.forEach(i=>Jf(i,e,n,s));else{const i=te(t.handler)?t.handler.bind(n):e[t.handler];te(i)&&Wt(r,i,t)}}function bc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>yi(c,l,o,!0)),yi(c,e,o)),Ae(e)&&i.set(e,c),c}function yi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&yi(t,i,n,!0),r&&r.forEach(o=>yi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=By[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const By={data:Wl,props:Rn,emits:Rn,methods:Rn,computed:Rn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:Rn,directives:Rn,watch:Uy,provide:Wl,inject:Vy};function Wl(t,e){return e?t?function(){return We(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function Vy(t,e){return Rn(ga(t),ga(e))}function ga(t){if(X(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function et(t,e){return t?[...new Set([].concat(t,e))]:e}function Rn(t,e){return t?We(We(Object.create(null),t),e):e}function Uy(t,e){if(!t)return e;if(!e)return t;const n=We(Object.create(null),t);for(const s in e)n[s]=et(t[s],e[s]);return n}function jy(t,e,n,s=!1){const r={},i={};di(i,Xi,1),t.propsDefaults=Object.create(null),Zf(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:xf(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Hy(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=he(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Ki(t.emitsOptions,f))continue;const p=e[f];if(c)if(ce(i,f))p!==i[f]&&(i[f]=p,l=!0);else{const m=Ut(f);r[m]=ma(c,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,l=!0)}}}else{Zf(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!ce(e,h)&&((u=As(h))===h||!ce(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=ma(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ce(e,h)&&!0)&&(delete i[h],l=!0)}l&&Qt(t,"set","$attrs")}function Zf(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(ii(c))continue;const l=e[c];let u;r&&ce(r,u=Ut(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Ki(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=he(n),l=a||Ce;for(let u=0;u<i.length;u++){const h=i[u];n[h]=ma(r,c,h,l[h],t,!ce(l,h))}}return o}function ma(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ce(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&te(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(vs(r),s=l[n]=c.call(null,e),Un())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===As(n))&&(s=!0))}return s}function ed(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!te(t)){const u=h=>{c=!0;const[f,p]=ed(h,e,!0);We(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ae(t)&&s.set(t,us),us;if(X(i))for(let u=0;u<i.length;u++){const h=Ut(i[u]);Gl(h)&&(o[h]=Ce)}else if(i)for(const u in i){const h=Ut(u);if(Gl(h)){const f=i[u],p=o[h]=X(f)||te(f)?{type:f}:f;if(p){const m=Xl(Boolean,p.type),v=Xl(String,p.type);p[0]=m>-1,p[1]=v<0||m<v,(m>-1||ce(p,"default"))&&a.push(h)}}}const l=[o,a];return Ae(t)&&s.set(t,l),l}function Gl(t){return t[0]!=="$"}function Ql(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Yl(t,e){return Ql(t)===Ql(e)}function Xl(t,e){return X(e)?e.findIndex(n=>Yl(n,t)):te(e)&&Yl(e,t)?0:-1}const td=t=>t[0]==="_"||t==="$stable",Ec=t=>X(t)?t.map(Mt):[Mt(t)],qy=(t,e,n)=>{if(e._n)return e;const s=pt((...r)=>Ec(e(...r)),n);return s._c=!1,s},nd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(td(r))continue;const i=t[r];if(te(i))e[r]=qy(r,i,s);else if(i!=null){const o=Ec(i);e[r]=()=>o}}},sd=(t,e)=>{const n=Ec(e);t.slots.default=()=>n},zy=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=he(e),di(e,"_",n)):nd(e,t.slots={})}else t.slots={},e&&sd(t,e);di(t.slots,Xi,1)},Ky=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ce;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(We(r,e),!n&&a===1&&delete r._):(i=!e.$stable,nd(e,r)),o=e}else e&&(sd(t,e),o={default:1});if(i)for(const a in r)!td(a)&&!(a in o)&&delete r[a]};function rd(){return{app:null,config:{isNativeTag:Em,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wy=0;function Gy(t,e){return function(s,r=null){te(s)||(s=Object.assign({},s)),r!=null&&!Ae(r)&&(r=null);const i=rd(),o=new Set;let a=!1;const c=i.app={_uid:Wy++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:hv,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&te(l.install)?(o.add(l),l.install(c,...u)):te(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=G(s,r);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,Ji(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function ya(t,e,n,s,r=!1){if(X(t)){t.forEach((f,p)=>ya(f,e&&(X(e)?e[p]:e),n,s,r));return}if(oi(s)&&!r)return;const i=s.shapeFlag&4?Ji(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ce?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Be(l)?(u[l]=null,ce(h,l)&&(h[l]=null)):qe(l)&&(l.value=null)),te(c))fn(c,a,12,[o,u]);else{const f=Be(c),p=qe(c);if(f||p){const m=()=>{if(t.f){const v=f?u[c]:c.value;r?X(v)&&ic(v,i):X(v)?v.includes(i)||v.push(i):f?(u[c]=[i],ce(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,ce(h,c)&&(h[c]=o)):p&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,at(m,n)):m()}}}const at=wy;function Qy(t){return Yy(t)}function Yy(t,e){const n=Am();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=xt,cloneNode:m,insertStaticContent:v}=t,b=(d,g,y,C=null,E=null,A=null,k=!1,S=null,D=!!g.dynamicChildren)=>{if(d===g)return;d&&!On(d,g)&&(C=j(d),ot(d,E,A,!0),d=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:I,ref:q,shapeFlag:V}=g;switch(I){case Tc:T(d,g,y,C);break;case Gt:x(d,g,y,C);break;case Lo:d==null&&F(g,y,C,k);break;case lt:pe(d,g,y,C,E,A,k,S,D);break;default:V&1?ne(d,g,y,C,E,A,k,S,D):V&6?ke(d,g,y,C,E,A,k,S,D):(V&64||V&128)&&I.process(d,g,y,C,E,A,k,S,D,Ie)}q!=null&&E&&ya(q,d&&d.ref,A,g||d,!g)},T=(d,g,y,C)=>{if(d==null)s(g.el=a(g.children),y,C);else{const E=g.el=d.el;g.children!==d.children&&l(E,g.children)}},x=(d,g,y,C)=>{d==null?s(g.el=c(g.children||""),y,C):g.el=d.el},F=(d,g,y,C)=>{[d.el,d.anchor]=v(d.children,g,y,C,d.el,d.anchor)},K=({el:d,anchor:g},y,C)=>{let E;for(;d&&d!==g;)E=f(d),s(d,y,C),d=E;s(g,y,C)},B=({el:d,anchor:g})=>{let y;for(;d&&d!==g;)y=f(d),r(d),d=y;r(g)},ne=(d,g,y,C,E,A,k,S,D)=>{k=k||g.type==="svg",d==null?P(g,y,C,E,A,k,S,D):se(d,g,E,A,k,S,D)},P=(d,g,y,C,E,A,k,S)=>{let D,I;const{type:q,props:V,shapeFlag:z,transition:Z,patchFlag:le,dirs:Ee}=d;if(d.el&&m!==void 0&&le===-1)D=d.el=m(d.el);else{if(D=d.el=o(d.type,A,V&&V.is,V),z&8?u(D,d.children):z&16&&U(d.children,D,null,C,E,A&&q!=="foreignObject",k,S),Ee&&_n(d,null,C,"created"),V){for(const Se in V)Se!=="value"&&!ii(Se)&&i(D,Se,null,V[Se],A,d.children,C,E,R);"value"in V&&i(D,"value",null,V.value),(I=V.onVnodeBeforeMount)&&Ot(I,C,d)}$(D,d,d.scopeId,k,C)}Ee&&_n(d,null,C,"beforeMount");const Te=(!E||E&&!E.pendingBranch)&&Z&&!Z.persisted;Te&&Z.beforeEnter(D),s(D,g,y),((I=V&&V.onVnodeMounted)||Te||Ee)&&at(()=>{I&&Ot(I,C,d),Te&&Z.enter(D),Ee&&_n(d,null,C,"mounted")},E)},$=(d,g,y,C,E)=>{if(y&&p(d,y),C)for(let A=0;A<C.length;A++)p(d,C[A]);if(E){let A=E.subTree;if(g===A){const k=E.vnode;$(d,k,k.scopeId,k.slotScopeIds,E.parent)}}},U=(d,g,y,C,E,A,k,S,D=0)=>{for(let I=D;I<d.length;I++){const q=d[I]=S?ln(d[I]):Mt(d[I]);b(null,q,g,y,C,E,A,k,S)}},se=(d,g,y,C,E,A,k)=>{const S=g.el=d.el;let{patchFlag:D,dynamicChildren:I,dirs:q}=g;D|=d.patchFlag&16;const V=d.props||Ce,z=g.props||Ce;let Z;y&&Sn(y,!1),(Z=z.onVnodeBeforeUpdate)&&Ot(Z,y,g,d),q&&_n(g,d,y,"beforeUpdate"),y&&Sn(y,!0);const le=E&&g.type!=="foreignObject";if(I?de(d.dynamicChildren,I,S,y,C,le,A):k||Je(d,g,S,null,y,C,le,A,!1),D>0){if(D&16)O(S,g,V,z,y,C,E);else if(D&2&&V.class!==z.class&&i(S,"class",null,z.class,E),D&4&&i(S,"style",V.style,z.style,E),D&8){const Ee=g.dynamicProps;for(let Te=0;Te<Ee.length;Te++){const Se=Ee[Te],It=V[Se],ns=z[Se];(ns!==It||Se==="value")&&i(S,Se,It,ns,E,d.children,y,C,R)}}D&1&&d.children!==g.children&&u(S,g.children)}else!k&&I==null&&O(S,g,V,z,y,C,E);((Z=z.onVnodeUpdated)||q)&&at(()=>{Z&&Ot(Z,y,g,d),q&&_n(g,d,y,"updated")},C)},de=(d,g,y,C,E,A,k)=>{for(let S=0;S<g.length;S++){const D=d[S],I=g[S],q=D.el&&(D.type===lt||!On(D,I)||D.shapeFlag&70)?h(D.el):y;b(D,I,q,null,C,E,A,k,!0)}},O=(d,g,y,C,E,A,k)=>{if(y!==C){for(const S in C){if(ii(S))continue;const D=C[S],I=y[S];D!==I&&S!=="value"&&i(d,S,I,D,k,g.children,E,A,R)}if(y!==Ce)for(const S in y)!ii(S)&&!(S in C)&&i(d,S,y[S],null,k,g.children,E,A,R);"value"in C&&i(d,"value",y.value,C.value)}},pe=(d,g,y,C,E,A,k,S,D)=>{const I=g.el=d?d.el:a(""),q=g.anchor=d?d.anchor:a("");let{patchFlag:V,dynamicChildren:z,slotScopeIds:Z}=g;Z&&(S=S?S.concat(Z):Z),d==null?(s(I,y,C),s(q,y,C),U(g.children,y,q,E,A,k,S,D)):V>0&&V&64&&z&&d.dynamicChildren?(de(d.dynamicChildren,z,y,E,A,k,S),(g.key!=null||E&&g===E.subTree)&&id(d,g,!0)):Je(d,g,y,q,E,A,k,S,D)},ke=(d,g,y,C,E,A,k,S,D)=>{g.slotScopeIds=S,d==null?g.shapeFlag&512?E.ctx.activate(g,y,C,k,D):kt(g,y,C,E,A,k,D):_e(d,g,D)},kt=(d,g,y,C,E,A,k)=>{const S=d.component=rv(d,C,E);if(Gi(d)&&(S.ctx.renderer=Ie),iv(S),S.asyncDep){if(E&&E.registerDep(S,me),!d.el){const D=S.subTree=G(Gt);x(null,D,g,y)}return}me(S,d,g,y,E,A,k)},_e=(d,g,y)=>{const C=g.component=d.component;if(my(d,g,y))if(C.asyncDep&&!C.asyncResolved){ge(C,g,y);return}else C.next=g,uy(C.update),C.update();else g.el=d.el,C.vnode=g},me=(d,g,y,C,E,A,k)=>{const S=()=>{if(d.isMounted){let{next:q,bu:V,u:z,parent:Z,vnode:le}=d,Ee=q,Te;Sn(d,!1),q?(q.el=le.el,ge(d,q,k)):q=le,V&&ko(V),(Te=q.props&&q.props.onVnodeBeforeUpdate)&&Ot(Te,Z,q,le),Sn(d,!0);const Se=No(d),It=d.subTree;d.subTree=Se,b(It,Se,h(It.el),j(It),d,E,A),q.el=Se.el,Ee===null&&yy(d,Se.el),z&&at(z,E),(Te=q.props&&q.props.onVnodeUpdated)&&at(()=>Ot(Te,Z,q,le),E)}else{let q;const{el:V,props:z}=g,{bm:Z,m:le,parent:Ee}=d,Te=oi(g);if(Sn(d,!1),Z&&ko(Z),!Te&&(q=z&&z.onVnodeBeforeMount)&&Ot(q,Ee,g),Sn(d,!0),V&&ee){const Se=()=>{d.subTree=No(d),ee(V,d.subTree,d,E,null)};Te?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Se()):Se()}else{const Se=d.subTree=No(d);b(null,Se,y,C,d,E,A),g.el=Se.el}if(le&&at(le,E),!Te&&(q=z&&z.onVnodeMounted)){const Se=g;at(()=>Ot(q,Ee,Se),E)}(g.shapeFlag&256||Ee&&oi(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&d.a&&at(d.a,E),d.isMounted=!0,g=y=C=null}},D=d.effect=new lc(S,()=>mc(I),d.scope),I=d.update=()=>D.run();I.id=d.uid,Sn(d,!0),I()},ge=(d,g,y)=>{g.component=d;const C=d.vnode.props;d.vnode=g,d.next=null,Hy(d,g.props,C,y),Ky(d,g.children,y),xs(),Vl(),Ds()},Je=(d,g,y,C,E,A,k,S,D=!1)=>{const I=d&&d.children,q=d?d.shapeFlag:0,V=g.children,{patchFlag:z,shapeFlag:Z}=g;if(z>0){if(z&128){Ze(I,V,y,C,E,A,k,S,D);return}else if(z&256){nn(I,V,y,C,E,A,k,S,D);return}}Z&8?(q&16&&R(I,E,A),V!==I&&u(y,V)):q&16?Z&16?Ze(I,V,y,C,E,A,k,S,D):R(I,E,A,!0):(q&8&&u(y,""),Z&16&&U(V,y,C,E,A,k,S,D))},nn=(d,g,y,C,E,A,k,S,D)=>{d=d||us,g=g||us;const I=d.length,q=g.length,V=Math.min(I,q);let z;for(z=0;z<V;z++){const Z=g[z]=D?ln(g[z]):Mt(g[z]);b(d[z],Z,y,null,E,A,k,S,D)}I>q?R(d,E,A,!0,!1,V):U(g,y,C,E,A,k,S,D,V)},Ze=(d,g,y,C,E,A,k,S,D)=>{let I=0;const q=g.length;let V=d.length-1,z=q-1;for(;I<=V&&I<=z;){const Z=d[I],le=g[I]=D?ln(g[I]):Mt(g[I]);if(On(Z,le))b(Z,le,y,null,E,A,k,S,D);else break;I++}for(;I<=V&&I<=z;){const Z=d[V],le=g[z]=D?ln(g[z]):Mt(g[z]);if(On(Z,le))b(Z,le,y,null,E,A,k,S,D);else break;V--,z--}if(I>V){if(I<=z){const Z=z+1,le=Z<q?g[Z].el:C;for(;I<=z;)b(null,g[I]=D?ln(g[I]):Mt(g[I]),y,le,E,A,k,S,D),I++}}else if(I>z)for(;I<=V;)ot(d[I],E,A,!0),I++;else{const Z=I,le=I,Ee=new Map;for(I=le;I<=z;I++){const dt=g[I]=D?ln(g[I]):Mt(g[I]);dt.key!=null&&Ee.set(dt.key,I)}let Te,Se=0;const It=z-le+1;let ns=!1,Dl=0;const $s=new Array(It);for(I=0;I<It;I++)$s[I]=0;for(I=Z;I<=V;I++){const dt=d[I];if(Se>=It){ot(dt,E,A,!0);continue}let Nt;if(dt.key!=null)Nt=Ee.get(dt.key);else for(Te=le;Te<=z;Te++)if($s[Te-le]===0&&On(dt,g[Te])){Nt=Te;break}Nt===void 0?ot(dt,E,A,!0):($s[Nt-le]=I+1,Nt>=Dl?Dl=Nt:ns=!0,b(dt,g[Nt],y,null,E,A,k,S,D),Se++)}const Rl=ns?Xy($s):us;for(Te=Rl.length-1,I=It-1;I>=0;I--){const dt=le+I,Nt=g[dt],kl=dt+1<q?g[dt+1].el:C;$s[I]===0?b(null,Nt,y,kl,E,A,k,S,D):ns&&(Te<0||I!==Rl[Te]?it(Nt,y,kl,2):Te--)}}},it=(d,g,y,C,E=null)=>{const{el:A,type:k,transition:S,children:D,shapeFlag:I}=d;if(I&6){it(d.component.subTree,g,y,C);return}if(I&128){d.suspense.move(g,y,C);return}if(I&64){k.move(d,g,y,Ie);return}if(k===lt){s(A,g,y);for(let V=0;V<D.length;V++)it(D[V],g,y,C);s(d.anchor,g,y);return}if(k===Lo){K(d,g,y);return}if(C!==2&&I&1&&S)if(C===0)S.beforeEnter(A),s(A,g,y),at(()=>S.enter(A),E);else{const{leave:V,delayLeave:z,afterLeave:Z}=S,le=()=>s(A,g,y),Ee=()=>{V(A,()=>{le(),Z&&Z()})};z?z(A,le,Ee):Ee()}else s(A,g,y)},ot=(d,g,y,C=!1,E=!1)=>{const{type:A,props:k,ref:S,children:D,dynamicChildren:I,shapeFlag:q,patchFlag:V,dirs:z}=d;if(S!=null&&ya(S,null,y,d,!0),q&256){g.ctx.deactivate(d);return}const Z=q&1&&z,le=!oi(d);let Ee;if(le&&(Ee=k&&k.onVnodeBeforeUnmount)&&Ot(Ee,g,d),q&6)M(d.component,y,C);else{if(q&128){d.suspense.unmount(y,C);return}Z&&_n(d,null,g,"beforeUnmount"),q&64?d.type.remove(d,g,y,E,Ie,C):I&&(A!==lt||V>0&&V&64)?R(I,g,y,!1,!0):(A===lt&&V&384||!E&&q&16)&&R(D,g,y),C&&sn(d)}(le&&(Ee=k&&k.onVnodeUnmounted)||Z)&&at(()=>{Ee&&Ot(Ee,g,d),Z&&_n(d,null,g,"unmounted")},y)},sn=d=>{const{type:g,el:y,anchor:C,transition:E}=d;if(g===lt){w(y,C);return}if(g===Lo){B(d);return}const A=()=>{r(y),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:k,delayLeave:S}=E,D=()=>k(y,A);S?S(d.el,A,D):D()}else A()},w=(d,g)=>{let y;for(;d!==g;)y=f(d),r(d),d=y;r(g)},M=(d,g,y)=>{const{bum:C,scope:E,update:A,subTree:k,um:S}=d;C&&ko(C),E.stop(),A&&(A.active=!1,ot(k,d,g,y)),S&&at(S,g),at(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},R=(d,g,y,C=!1,E=!1,A=0)=>{for(let k=A;k<d.length;k++)ot(d[k],g,y,C,E)},j=d=>d.shapeFlag&6?j(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),ve=(d,g,y)=>{d==null?g._vnode&&ot(g._vnode,null,null,!0):b(g._vnode||null,d,g,null,null,null,y),Vl(),Bf(),g._vnode=d},Ie={p:b,um:ot,m:it,r:sn,mt:kt,mc:U,pc:Je,pbc:de,n:j,o:t};let re,ee;return e&&([re,ee]=e(Ie)),{render:ve,hydrate:re,createApp:Gy(ve,re)}}function Sn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function id(t,e,n=!1){const s=t.children,r=e.children;if(X(s)&&X(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ln(r[i]),a.el=o.el),n||id(o,a))}}function Xy(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const Jy=t=>t.__isTeleport,lt=Symbol(void 0),Tc=Symbol(void 0),Gt=Symbol(void 0),Lo=Symbol(void 0),Qs=[];let At=null;function Pt(t=!1){Qs.push(At=t?null:[])}function Zy(){Qs.pop(),At=Qs[Qs.length-1]||null}let ur=1;function Jl(t){ur+=t}function od(t){return t.dynamicChildren=ur>0?At||us:null,Zy(),ur>0&&At&&At.push(t),t}function An(t,e,n,s,r,i){return od(Bt(t,e,n,s,r,i,!0))}function va(t,e,n,s,r){return od(G(t,e,n,s,r,!0))}function wa(t){return t?t.__v_isVNode===!0:!1}function On(t,e){return t.type===e.type&&t.key===e.key}const Xi="__vInternal",ad=({key:t})=>t!=null?t:null,ai=({ref:t,ref_key:e,ref_for:n})=>t!=null?Be(t)||qe(t)||te(t)?{i:bt,r:t,k:e,f:!!n}:t:null;function Bt(t,e=null,n=null,s=0,r=null,i=t===lt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ad(e),ref:e&&ai(e),scopeId:jf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(Cc(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Be(n)?8:16),ur>0&&!o&&At&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&At.push(c),c}const G=ev;function ev(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Ly)&&(t=Gt),wa(t)){const a=mn(t,e,!0);return n&&Cc(a,n),ur>0&&!i&&At&&(a.shapeFlag&6?At[At.indexOf(t)]=a:At.push(a)),a.patchFlag|=-2,a}if(uv(t)&&(t=t.__vccOpts),e){e=tv(e);let{class:a,style:c}=e;a&&!Be(a)&&(e.class=sc(a)),Ae(c)&&(Df(c)&&!X(c)&&(c=We({},c)),e.style=nc(c))}const o=Be(t)?1:vy(t)?128:Jy(t)?64:Ae(t)?4:te(t)?2:0;return Bt(t,e,n,s,r,o,i,!0)}function tv(t){return t?Df(t)||Xi in t?We({},t):t:null}function mn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?Ic(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&ad(a),ref:e&&e.ref?n&&r?X(r)?r.concat(ai(e)):[r,ai(e)]:ai(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mn(t.ssContent),ssFallback:t.ssFallback&&mn(t.ssFallback),el:t.el,anchor:t.anchor}}function ba(t=" ",e=0){return G(Tc,null,t,e)}function Mt(t){return t==null||typeof t=="boolean"?G(Gt):X(t)?G(lt,null,t.slice()):typeof t=="object"?ln(t):G(Tc,null,String(t))}function ln(t){return t.el===null||t.memo?t:mn(t)}function Cc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(X(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Cc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Xi in e)?e._ctx=bt:r===3&&bt&&(bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:bt},n=32):(e=String(e),s&64?(n=16,e=[ba(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ic(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=sc([e.class,s.class]));else if(r==="style")e.style=nc([e.style,s.style]);else if(Bi(r)){const i=e[r],o=s[r];o&&i!==o&&!(X(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ot(t,e,n,s=null){Et(t,e,7,[n,s])}const nv=rd();let sv=0;function rv(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||nv,i={uid:sv++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new yf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ed(s,r),emitsOptions:Uf(s,r),emit:null,emitted:null,propsDefaults:Ce,inheritAttrs:s.inheritAttrs,ctx:Ce,data:Ce,props:Ce,attrs:Ce,slots:Ce,refs:Ce,setupState:Ce,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=dy.bind(null,i),t.ce&&t.ce(i),i}let $e=null;const _c=()=>$e||bt,vs=t=>{$e=t,t.scope.on()},Un=()=>{$e&&$e.scope.off(),$e=null};function cd(t){return t.vnode.shapeFlag&4}let hr=!1;function iv(t,e=!1){hr=e;const{props:n,children:s}=t.vnode,r=cd(t);jy(t,n,r,e),zy(t,s);const i=r?ov(t,e):void 0;return hr=!1,i}function ov(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Rf(new Proxy(t.ctx,My));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?cv(t):null;vs(t),xs();const i=fn(s,t,0,[t.props,r]);if(Ds(),Un(),df(i)){if(i.then(Un,Un),e)return i.then(o=>{Zl(t,o,e)}).catch(o=>{qi(o,t,0)});t.asyncDep=i}else Zl(t,i,e)}else ld(t,e)}function Zl(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=Pf(e)),ld(t,n)}let eu;function ld(t,e,n){const s=t.type;if(!t.render){if(!e&&eu&&!s.render){const r=s.template||bc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=We(We({isCustomElement:i,delimiters:a},o),c);s.render=eu(r,l)}}t.render=s.render||xt}vs(t),xs(),Fy(t),Ds(),Un()}function av(t){return new Proxy(t.attrs,{get(e,n){return yt(t,"get","$attrs"),e[n]}})}function cv(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=av(t))},slots:t.slots,emit:t.emit,expose:e}}function Ji(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Pf(Rf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in mi)return mi[n](t)}}))}function lv(t,e=!0){return te(t)?t.displayName||t.name:t.name||e&&t.__name}function uv(t){return te(t)&&"__vccOpts"in t}const W=(t,e)=>ay(t,e,hr);function En(t,e,n){const s=arguments.length;return s===2?Ae(e)&&!X(e)?wa(e)?G(t,null,[e]):G(t,e):G(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&wa(n)&&(n=[n]),G(t,e,n))}const hv="3.2.39",fv="http://www.w3.org/2000/svg",Ln=typeof document<"u"?document:null,tu=Ln&&Ln.createElement("template"),dv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Ln.createElementNS(fv,t):Ln.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ln.createTextNode(t),createComment:t=>Ln.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ln.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{tu.innerHTML=s?`<svg>${t}</svg>`:t;const a=tu.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function pv(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function gv(t,e,n){const s=t.style,r=Be(n);if(n&&!r){for(const i in n)Ea(s,i,n[i]);if(e&&!Be(e))for(const i in e)n[i]==null&&Ea(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const nu=/\s*!important$/;function Ea(t,e,n){if(X(n))n.forEach(s=>Ea(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=mv(t,e);nu.test(n)?t.setProperty(As(s),n.replace(nu,""),"important"):t[s]=n}}const su=["Webkit","Moz","ms"],Po={};function mv(t,e){const n=Po[e];if(n)return n;let s=Ut(e);if(s!=="filter"&&s in t)return Po[e]=s;s=es(s);for(let r=0;r<su.length;r++){const i=su[r]+s;if(i in t)return Po[e]=i}return e}const ru="http://www.w3.org/1999/xlink";function yv(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ru,e.slice(6,e.length)):t.setAttributeNS(ru,e,n);else{const i=ym(e);n==null||i&&!uf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function vv(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=uf(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[ud,wv]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let Ta=0;const bv=Promise.resolve(),Ev=()=>{Ta=0},Tv=()=>Ta||(bv.then(Ev),Ta=ud());function Cv(t,e,n,s){t.addEventListener(e,n,s)}function Iv(t,e,n,s){t.removeEventListener(e,n,s)}function _v(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=Sv(e);if(s){const l=i[e]=Av(s,r);Cv(t,a,l,c)}else o&&(Iv(t,a,o,c),i[e]=void 0)}}const iu=/(?:Once|Passive|Capture)$/;function Sv(t){let e;if(iu.test(t)){e={};let s;for(;s=t.match(iu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):As(t.slice(2)),e]}function Av(t,e){const n=s=>{const r=s.timeStamp||ud();(wv||r>=n.attached-1)&&Et(xv(s,n.value),e,5,[s])};return n.value=t,n.attached=Tv(),n}function xv(t,e){if(X(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const ou=/^on[a-z]/,Dv=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?pv(t,s,r):e==="style"?gv(t,n,s):Bi(e)?rc(e)||_v(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Rv(t,e,s,r))?vv(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),yv(t,e,s,r))};function Rv(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&ou.test(e)&&te(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ou.test(e)&&Be(n)?!1:e in t}const on="transition",Bs="animation",Sc=(t,{slots:e})=>En(qf,kv(t),e);Sc.displayName="Transition";const hd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Sc.props=We({},qf.props,hd);const xn=(t,e=[])=>{X(t)?t.forEach(n=>n(...e)):t&&t(...e)},au=t=>t?X(t)?t.some(e=>e.length>1):t.length>1:!1;function kv(t){const e={};for(const O in t)O in hd||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=Nv(r),v=m&&m[0],b=m&&m[1],{onBeforeEnter:T,onEnter:x,onEnterCancelled:F,onLeave:K,onLeaveCancelled:B,onBeforeAppear:ne=T,onAppear:P=x,onAppearCancelled:$=F}=e,U=(O,pe,ke)=>{Dn(O,pe?u:a),Dn(O,pe?l:o),ke&&ke()},se=(O,pe)=>{O._isLeaving=!1,Dn(O,h),Dn(O,p),Dn(O,f),pe&&pe()},de=O=>(pe,ke)=>{const kt=O?P:x,_e=()=>U(pe,O,ke);xn(kt,[pe,_e]),cu(()=>{Dn(pe,O?c:i),an(pe,O?u:a),au(kt)||lu(pe,s,v,_e)})};return We(e,{onBeforeEnter(O){xn(T,[O]),an(O,i),an(O,o)},onBeforeAppear(O){xn(ne,[O]),an(O,c),an(O,l)},onEnter:de(!1),onAppear:de(!0),onLeave(O,pe){O._isLeaving=!0;const ke=()=>se(O,pe);an(O,h),Pv(),an(O,f),cu(()=>{!O._isLeaving||(Dn(O,h),an(O,p),au(K)||lu(O,s,b,ke))}),xn(K,[O,ke])},onEnterCancelled(O){U(O,!1),xn(F,[O])},onAppearCancelled(O){U(O,!0),xn($,[O])},onLeaveCancelled(O){se(O),xn(B,[O])}})}function Nv(t){if(t==null)return null;if(Ae(t))return[Mo(t.enter),Mo(t.leave)];{const e=Mo(t);return[e,e]}}function Mo(t){return mf(t)}function an(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Dn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function cu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ov=0;function lu(t,e,n,s){const r=t._endId=++Ov,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Lv(t,e);if(!o)return s();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,f),i()},f=p=>{p.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,f)}function Lv(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(on+"Delay"),i=s(on+"Duration"),o=uu(r,i),a=s(Bs+"Delay"),c=s(Bs+"Duration"),l=uu(a,c);let u=null,h=0,f=0;e===on?o>0&&(u=on,h=o,f=i.length):e===Bs?l>0&&(u=Bs,h=l,f=c.length):(h=Math.max(o,l),u=h>0?o>l?on:Bs:null,f=u?u===on?i.length:c.length:0);const p=u===on&&/\b(transform|all)(,|$)/.test(n[on+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:p}}function uu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>hu(n)+hu(t[s])))}function hu(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Pv(){return document.body.offsetHeight}const Mv={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Vs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Vs(t,!0),s.enter(t)):s.leave(t,()=>{Vs(t,!1)}):Vs(t,e))},beforeUnmount(t,{value:e}){Vs(t,e)}};function Vs(t,e){t.style.display=e?t._vod:"none"}const Fv=We({patchProp:Dv},dv);let fu;function $v(){return fu||(fu=Qy(Fv))}const Bv=(...t)=>{const e=$v().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Vv(s);if(!r)return;const i=e._component;!te(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Vv(t){return Be(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Uv=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),s.push(n[u],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw Error();const f=i<<2|a>>4;if(s.push(f),l!==64){const p=a<<4&240|l>>2;if(s.push(p),h!==64){const m=l<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Hv=function(t){const e=fd(t);return jv.encodeByteArray(e,!0)},dd=function(t){return Hv(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zi())}function pd(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wv(){return Zi().indexOf("Electron/")>=0}function Gv(){const t=Zi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qv(){return Zi().indexOf("MSAppHost/")>=0}function gd(){return typeof indexedDB=="object"}function md(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Yv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="FirebaseError";class Tn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Xv,Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Jv(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Tn(r,a,s)}}function Jv(t,e){return t.replace(Zv,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Zv=/\{\$([^}]+)}/g;function vi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(du(i)&&du(o)){if(!vi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function du(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=1e3,t0=2,n0=4*60*60*1e3,s0=.5;function pu(t,e=e0,n=t0){const s=e*Math.pow(n,t),r=Math.round(s0*s*(Math.random()-.5)*2);return Math.min(n0,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){return t&&t._delegate?t._delegate:t}class Yt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o0(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=kn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kn){return this.instances.has(e)}getOptions(e=kn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=kn){return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i0(t){return t===kn?void 0:t}function o0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const c0={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},l0=ye.INFO,u0={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},h0=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=u0[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xc{constructor(e){this.name=e,this._logLevel=l0,this._logHandler=h0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const f0=(t,e)=>e.some(n=>t instanceof n);let gu,mu;function d0(){return gu||(gu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p0(){return mu||(mu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yd=new WeakMap,Ca=new WeakMap,vd=new WeakMap,Fo=new WeakMap,Dc=new WeakMap;function g0(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(pn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yd.set(n,t)}).catch(()=>{}),Dc.set(e,t),e}function m0(t){if(Ca.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ca.set(t,e)}let Ia={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ca.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y0(t){Ia=t(Ia)}function v0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call($o(this),e,...n);return vd.set(s,e.sort?e.sort():[e]),pn(s)}:p0().includes(t)?function(...e){return t.apply($o(this),e),pn(yd.get(this))}:function(...e){return pn(t.apply($o(this),e))}}function w0(t){return typeof t=="function"?v0(t):(t instanceof IDBTransaction&&m0(t),f0(t,d0())?new Proxy(t,Ia):t)}function pn(t){if(t instanceof IDBRequest)return g0(t);if(Fo.has(t))return Fo.get(t);const e=w0(t);return e!==t&&(Fo.set(t,e),Dc.set(e,t)),e}const $o=t=>Dc.get(t);function wd(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=pn(o);return s&&o.addEventListener("upgradeneeded",c=>{s(pn(o.result),c.oldVersion,c.newVersion,pn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const b0=["get","getKey","getAll","getAllKeys","count"],E0=["put","add","delete","clear"],Bo=new Map;function yu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bo.get(e))return Bo.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=E0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||b0.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return Bo.set(e,i),i}y0(t=>({...t,get:(e,n,s)=>yu(e,n)||t.get(e,n,s),has:(e,n)=>!!yu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function C0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _a="@firebase/app",vu="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new xc("@firebase/app"),I0="@firebase/app-compat",_0="@firebase/analytics-compat",S0="@firebase/analytics",A0="@firebase/app-check-compat",x0="@firebase/app-check",D0="@firebase/auth",R0="@firebase/auth-compat",k0="@firebase/database",N0="@firebase/database-compat",O0="@firebase/functions",L0="@firebase/functions-compat",P0="@firebase/installations",M0="@firebase/installations-compat",F0="@firebase/messaging",$0="@firebase/messaging-compat",B0="@firebase/performance",V0="@firebase/performance-compat",U0="@firebase/remote-config",j0="@firebase/remote-config-compat",H0="@firebase/storage",q0="@firebase/storage-compat",z0="@firebase/firestore",K0="@firebase/firestore-compat",W0="firebase",G0="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",Q0={[_a]:"fire-core",[I0]:"fire-core-compat",[S0]:"fire-analytics",[_0]:"fire-analytics-compat",[x0]:"fire-app-check",[A0]:"fire-app-check-compat",[D0]:"fire-auth",[R0]:"fire-auth-compat",[k0]:"fire-rtdb",[N0]:"fire-rtdb-compat",[O0]:"fire-fn",[L0]:"fire-fn-compat",[P0]:"fire-iid",[M0]:"fire-iid-compat",[F0]:"fire-fcm",[$0]:"fire-fcm-compat",[B0]:"fire-perf",[V0]:"fire-perf-compat",[U0]:"fire-rc",[j0]:"fire-rc-compat",[H0]:"fire-gcs",[q0]:"fire-gcs-compat",[z0]:"fire-fst",[K0]:"fire-fst-compat","fire-js":"fire-js",[W0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Map,Sa=new Map;function Y0(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yn(t){const e=t.name;if(Sa.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Sa.set(e,t);for(const n of wi.values())Y0(n,t);return!0}function Sr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wn=new eo("app","Firebase",X0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=G0;function ew(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:bd,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Wn.create("bad-app-name",{appName:String(s)});const r=wi.get(s);if(r){if(vi(t,r.options)&&vi(n,r.config))return r;throw Wn.create("duplicate-app",{appName:s})}const i=new a0(s);for(const a of Sa.values())i.addComponent(a);const o=new J0(t,n,i);return wi.set(s,o),o}function Ed(t=bd){const e=wi.get(t);if(!e)throw Wn.create("no-app",{appName:t});return e}function Vt(t,e,n){var s;let r=(s=Q0[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}yn(new Yt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebase-heartbeat-database",nw=1,fr="firebase-heartbeat-store";let Vo=null;function Td(){return Vo||(Vo=wd(tw,nw,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fr)}}}).catch(t=>{throw Wn.create("idb-open",{originalErrorMessage:t.message})})),Vo}async function sw(t){var e;try{return(await Td()).transaction(fr).objectStore(fr).get(Cd(t))}catch(n){if(n instanceof Tn)Kn.warn(n.message);else{const s=Wn.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Kn.warn(s.message)}}}async function wu(t,e){var n;try{const r=(await Td()).transaction(fr,"readwrite");return await r.objectStore(fr).put(e,Cd(t)),r.done}catch(s){if(s instanceof Tn)Kn.warn(s.message);else{const r=Wn.create("idb-set",{originalErrorMessage:(n=s)===null||n===void 0?void 0:n.message});Kn.warn(r.message)}}}function Cd(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=1024,iw=30*24*60*60*1e3;class ow{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bu();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=iw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bu(),{heartbeatsToSend:n,unsentEntries:s}=aw(this._heartbeatsCache.heartbeats),r=dd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function bu(){return new Date().toISOString().substring(0,10)}function aw(t,e=rw){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Eu(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Eu(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class cw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gd()?md().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await sw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return wu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return wu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Eu(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){yn(new Yt("platform-logger",e=>new T0(e),"PRIVATE")),yn(new Yt("heartbeat",e=>new ow(e),"PRIVATE")),Vt(_a,vu,t),Vt(_a,vu,"esm2017"),Vt("fire-js","")}lw("");var uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,Rc=Rc||{},J=uw||self;function bi(){}function Aa(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ar(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hw(t){return Object.prototype.hasOwnProperty.call(t,Uo)&&t[Uo]||(t[Uo]=++fw)}var Uo="closure_uid_"+(1e9*Math.random()>>>0),fw=0;function dw(t,e,n){return t.call.apply(t.bind,arguments)}function pw(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=dw:ze=pw,ze.apply(null,arguments)}function Gr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Qe(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Cn(){this.s=this.s,this.o=this.o}var gw=0;Cn.prototype.s=!1;Cn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),gw!=0)&&hw(this)};Cn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Id=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_d=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const s=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<s;i++)i in r&&e.call(n,r[i],i,t)};function mw(t){e:{var e=ab;const n=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in s&&e.call(void 0,s[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Tu(t){return Array.prototype.concat.apply([],arguments)}function kc(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Ei(t){return/^[\s\xa0]*$/.test(t)}var Cu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tt(t,e){return t.indexOf(e)!=-1}function jo(t,e){return t<e?-1:t>e?1:0}var nt;e:{var Iu=J.navigator;if(Iu){var _u=Iu.userAgent;if(_u){nt=_u;break e}}nt=""}function Nc(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Sd(t){const e={};for(const n in t)e[n]=t[n];return e}var Su="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ad(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Su.length;i++)n=Su[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Oc(t){return Oc[" "](t),t}Oc[" "]=bi;function yw(t){var e=bw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var vw=tt(nt,"Opera"),ws=tt(nt,"Trident")||tt(nt,"MSIE"),xd=tt(nt,"Edge"),xa=xd||ws,Dd=tt(nt,"Gecko")&&!(tt(nt.toLowerCase(),"webkit")&&!tt(nt,"Edge"))&&!(tt(nt,"Trident")||tt(nt,"MSIE"))&&!tt(nt,"Edge"),ww=tt(nt.toLowerCase(),"webkit")&&!tt(nt,"Edge");function Rd(){var t=J.document;return t?t.documentMode:void 0}var Ti;e:{var Ho="",qo=function(){var t=nt;if(Dd)return/rv:([^\);]+)(\)|;)/.exec(t);if(xd)return/Edge\/([\d\.]+)/.exec(t);if(ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ww)return/WebKit\/(\S+)/.exec(t);if(vw)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qo&&(Ho=qo?qo[1]:""),ws){var zo=Rd();if(zo!=null&&zo>parseFloat(Ho)){Ti=String(zo);break e}}Ti=Ho}var bw={};function Ew(){return yw(function(){let t=0;const e=Cu(String(Ti)).split("."),n=Cu("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=jo(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||jo(r[2].length==0,i[2].length==0)||jo(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var Da;if(J.document&&ws){var Au=Rd();Da=Au||parseInt(Ti,10)||void 0}else Da=void 0;var Tw=Da,Cw=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",bi,e),J.removeEventListener("test",bi,e)}catch{}return t}();function Xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};function dr(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Dd){e:{try{Oc(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Iw[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dr.Z.h.call(this)}}Qe(dr,Xe);var Iw={2:"touch",3:"pen",4:"mouse"};dr.prototype.h=function(){dr.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xr="closure_listenable_"+(1e6*Math.random()|0),_w=0;function Sw(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=r,this.key=++_w,this.ca=this.fa=!1}function to(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function no(t){this.src=t,this.g={},this.h=0}no.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=ka(t,e,s,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new Sw(e,this.src,i,!!s,r),e.fa=n,t.push(e)),e};function Ra(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Id(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(to(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ka(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==s)return r}return-1}var Lc="closure_lm_"+(1e6*Math.random()|0),Ko={};function kd(t,e,n,s,r){if(s&&s.once)return Od(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)kd(t,e[i],n,s,r);return null}return n=Fc(n),t&&t[xr]?t.N(e,n,Ar(s)?!!s.capture:!!s,r):Nd(t,e,n,!1,s,r)}function Nd(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Ar(r)?!!r.capture:!!r,a=Mc(t);if(a||(t[Lc]=a=new no(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=Aw(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Cw||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Pd(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Aw(){function t(n){return e.call(t.src,t.listener,n)}var e=xw;return t}function Od(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Od(t,e[i],n,s,r);return null}return n=Fc(n),t&&t[xr]?t.O(e,n,Ar(s)?!!s.capture:!!s,r):Nd(t,e,n,!0,s,r)}function Ld(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Ld(t,e[i],n,s,r);else s=Ar(s)?!!s.capture:!!s,n=Fc(n),t&&t[xr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=ka(i,n,s,r),-1<n&&(to(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Mc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ka(e,n,s,r)),(n=-1<t?e[t]:null)&&Pc(n))}function Pc(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[xr])Ra(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Pd(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Mc(e))?(Ra(n,t),n.h==0&&(n.src=null,e[Lc]=null)):to(t)}}}function Pd(t){return t in Ko?Ko[t]:Ko[t]="on"+t}function xw(t,e){if(t.ca)t=!0;else{e=new dr(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&Pc(t),t=n.call(s,e)}return t}function Mc(t){return t=t[Lc],t instanceof no?t:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fc(t){return typeof t=="function"?t:(t[Wo]||(t[Wo]=function(e){return t.handleEvent(e)}),t[Wo])}function Ve(){Cn.call(this),this.i=new no(this),this.P=this,this.I=null}Qe(Ve,Cn);Ve.prototype[xr]=!0;Ve.prototype.removeEventListener=function(t,e,n,s){Ld(this,t,e,n,s)};function Ke(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new Xe(e,t);else if(e instanceof Xe)e.target=e.target||t;else{var r=e;e=new Xe(s,t),Ad(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=Qr(o,s,!0,e)&&r}if(o=e.g=t,r=Qr(o,s,!0,e)&&r,r=Qr(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=Qr(o,s,!1,e)&&r}Ve.prototype.M=function(){if(Ve.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)to(n[s]);delete t.g[e],t.h--}}this.I=null};Ve.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Ve.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Qr(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Ra(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var $c=J.JSON.stringify;function Dw(){var t=Fd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Rw{constructor(){this.h=this.g=null}add(e,n){const s=Md.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Md=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kw,t=>t.reset());class kw{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Nw(t){J.setTimeout(()=>{throw t},0)}function Bc(t,e){Na||Ow(),Oa||(Na(),Oa=!0),Fd.add(t,e)}var Na;function Ow(){var t=J.Promise.resolve(void 0);Na=function(){t.then(Lw)}}var Oa=!1,Fd=new Rw;function Lw(){for(var t;t=Dw();){try{t.h.call(t.g)}catch(n){Nw(n)}var e=Md;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oa=!1}function so(t,e){Ve.call(this),this.h=t||1,this.g=e||J,this.j=ze(this.kb,this),this.l=Date.now()}Qe(so,Ve);L=so.prototype;L.da=!1;L.S=null;L.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ke(this,"tick"),this.da&&(Vc(this),this.start()))}};L.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vc(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}L.M=function(){so.Z.M.call(this),Vc(this),delete this.g};function Uc(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function $d(t){t.g=Uc(()=>{t.g=null,t.i&&(t.i=!1,$d(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Pw extends Cn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$d(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(t){Cn.call(this),this.h=t,this.g={}}Qe(pr,Cn);var xu=[];function Bd(t,e,n,s){Array.isArray(n)||(n&&(xu[0]=n.toString()),n=xu);for(var r=0;r<n.length;r++){var i=kd(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Vd(t){Nc(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pc(e)},t),t.g={}}pr.prototype.M=function(){pr.Z.M.call(this),Vd(this)};pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ro(){this.g=!0}ro.prototype.Aa=function(){this.g=!1};function Mw(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function Fw(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function cs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Bw(t,n)+(s?" "+s:"")})}function $w(t,e){t.info(function(){return"TIMEOUT: "+e})}ro.prototype.info=function(){};function Bw(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return $c(n)}catch{return e}}var ts={},Du=null;function io(){return Du=Du||new Ve}ts.Ma="serverreachability";function Ud(t){Xe.call(this,ts.Ma,t)}Qe(Ud,Xe);function gr(t){const e=io();Ke(e,new Ud(e))}ts.STAT_EVENT="statevent";function jd(t,e){Xe.call(this,ts.STAT_EVENT,t),this.stat=e}Qe(jd,Xe);function st(t){const e=io();Ke(e,new jd(e,t))}ts.Na="timingevent";function Hd(t,e){Xe.call(this,ts.Na,t),this.size=e}Qe(Hd,Xe);function Dr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var oo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jc(){}jc.prototype.h=null;function Ru(t){return t.h||(t.h=t.i())}function zd(){}var Rr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hc(){Xe.call(this,"d")}Qe(Hc,Xe);function qc(){Xe.call(this,"c")}Qe(qc,Xe);var La;function ao(){}Qe(ao,jc);ao.prototype.g=function(){return new XMLHttpRequest};ao.prototype.i=function(){return{}};La=new ao;function kr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new pr(this),this.P=Vw,t=xa?125:void 0,this.W=new so(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kd}function Kd(){this.i=null,this.g="",this.h=!1}var Vw=45e3,Pa={},Ci={};L=kr.prototype;L.setTimeout=function(t){this.P=t};function Ma(t,e,n){t.K=1,t.v=lo(Xt(e)),t.s=n,t.U=!0,Wd(t,null)}function Wd(t,e){t.F=Date.now(),Nr(t),t.A=Xt(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),ep(n.h,"t",s),t.C=0,n=t.l.H,t.h=new Kd,t.g=bp(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Pw(ze(t.Ia,t,t.g),t.O)),Bd(t.V,t.g,"readystatechange",t.gb),e=t.H?Sd(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),gr(),Mw(t.j,t.u,t.A,t.m,t.X,t.s)}L.gb=function(t){t=t.target;const e=this.L;e&&zt(t)==3?e.l():this.Ia(t)};L.Ia=function(t){try{if(t==this.g)e:{const u=zt(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||xa||this.g&&(this.h.h||this.g.ga()||Lu(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?gr(3):gr(2)),co(this);var n=this.g.ba();this.N=n;t:if(Gd(this)){var s=Lu(this.g);t="";var r=s.length,i=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Ys(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Fw(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ei(a)){var l=a;break t}}l=null}if(n=l)cs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fa(this,n);else{this.i=!1,this.o=3,st(12),Mn(this),Ys(this);break e}}this.U?(Qd(this,u,o),xa&&this.i&&u==3&&(Bd(this.V,this.W,"tick",this.fb),this.W.start())):(cs(this.j,this.m,o,null),Fa(this,o)),u==4&&Mn(this),this.i&&!this.I&&(u==4?mp(this.l,this):(this.i=!1,Nr(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),Mn(this),Ys(this)}}}catch{}finally{}};function Gd(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Qd(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=Uw(t,n),r==Ci){e==4&&(t.o=4,st(14),s=!1),cs(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Pa){t.o=4,st(15),cs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else cs(t.j,t.m,r,null),Fa(t,r);Gd(t)&&r!=Ci&&r!=Pa&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,st(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zc(e),e.L=!0,st(11))):(cs(t.j,t.m,n,"[Invalid Chunked Response]"),Mn(t),Ys(t))}L.fb=function(){if(this.g){var t=zt(this.g),e=this.g.ga();this.C<e.length&&(co(this),Qd(this,t,e),this.i&&t!=4&&Nr(this))}};function Uw(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ci:(n=Number(e.substring(n,s)),isNaN(n)?Pa:(s+=1,s+n>e.length?Ci:(e=e.substr(s,n),t.C=s+n,e)))}L.cancel=function(){this.I=!0,Mn(this)};function Nr(t){t.Y=Date.now()+t.P,Yd(t,t.P)}function Yd(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dr(ze(t.eb,t),e)}function co(t){t.B&&(J.clearTimeout(t.B),t.B=null)}L.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($w(this.j,this.A),this.K!=2&&(gr(),st(17)),Mn(this),this.o=2,Ys(this)):Yd(this,this.Y-t)};function Ys(t){t.l.G==0||t.I||mp(t.l,t)}function Mn(t){co(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Vc(t.W),Vd(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Fa(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||$a(n.i,t))){if(n.I=t.N,!t.J&&$a(n.i,t)&&n.G==3){try{var s=n.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ai(n),fo(n);else break e;Jc(n),st(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=Dr(ze(n.ab,n),6e3));if(1>=sp(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Fn(n,11)}else if((t.J||n.g==t)&&Ai(n),!Ei(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const u=l[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=l[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.i;!i.g&&(tt(m,"spdy")||tt(m,"quic")||tt(m,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Wc(i,i.h),i.h=null))}if(s.D){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(s.sa=v,xe(s.F,s.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=t;if(s.oa=wp(s,s.H?s.la:null,s.W),o.J){rp(s.i,o);var a=o,c=s.K;c&&a.setTimeout(c),a.B&&(co(a),Nr(a)),s.g=o}else pp(s);0<n.l.length&&po(n)}else l[0]!="stop"&&l[0]!="close"||Fn(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Fn(n,7):Xc(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}gr(4)}catch{}}function jw(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Aa(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function zc(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Aa(t)||typeof t=="string")_d(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Aa(t)||typeof t=="string"){n=[];for(var s=t.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,t)n[s++]=r;s=jw(t),r=s.length;for(var i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}}function Rs(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof Rs)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}L=Rs.prototype;L.R=function(){Kc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};L.T=function(){return Kc(this),this.g.concat()};function Kc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];Gn(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)s=t.g[e],Gn(r,s)||(t.g[n++]=s,r[s]=1),e++;t.g.length=n}}L.get=function(t,e){return Gn(this.h,t)?this.h[t]:e};L.set=function(t,e){Gn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};L.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);t.call(e,i,r,this)}};function Gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Xd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hw(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Qn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Qn){this.g=e!==void 0?e:t.g,Ii(this,t.j),this.s=t.s,_i(this,t.i),Si(this,t.m),this.l=t.l,e=t.h;var n=new mr;n.i=e.i,e.g&&(n.g=new Rs(e.g),n.h=e.h),ku(this,n),this.o=t.o}else t&&(n=String(t).match(Xd))?(this.g=!!e,Ii(this,n[1]||"",!0),this.s=Xs(n[2]||""),_i(this,n[3]||"",!0),Si(this,n[4]),this.l=Xs(n[5]||"",!0),ku(this,n[6]||"",!0),this.o=Xs(n[7]||"")):(this.g=!!e,this.h=new mr(null,this.g))}Qn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ws(e,Nu,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ws(e,Nu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Ws(n,n.charAt(0)=="/"?Gw:Ww,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ws(n,Yw)),t.join("")};function Xt(t){return new Qn(t)}function Ii(t,e,n){t.j=n?Xs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _i(t,e,n){t.i=n?Xs(e,!0):e}function Si(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ku(t,e,n){e instanceof mr?(t.h=e,Xw(t.h,t.g)):(n||(e=Ws(e,Qw)),t.h=new mr(e,t.g))}function xe(t,e,n){t.h.set(e,n)}function lo(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qw(t){return t instanceof Qn?Xt(t):new Qn(t,void 0)}function zw(t,e,n,s){var r=new Qn(null,void 0);return t&&Ii(r,t),e&&_i(r,e),n&&Si(r,n),s&&(r.l=s),r}function Xs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ws(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Kw),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kw(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Nu=/[#\/\?@]/g,Ww=/[#\?:]/g,Gw=/[#\?]/g,Qw=/[#\?@]/g,Yw=/#/g;function mr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function In(t){t.g||(t.g=new Rs,t.h=0,t.i&&Hw(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}L=mr.prototype;L.add=function(t,e){In(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Jd(t,e){In(t),e=ks(t,e),Gn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Gn(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Kc(t)))}function Zd(t,e){return In(t),e=ks(t,e),Gn(t.g.h,e)}L.forEach=function(t,e){In(this),this.g.forEach(function(n,s){_d(n,function(r){t.call(e,r,s,this)},this)},this)};L.T=function(){In(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var r=t[s],i=0;i<r.length;i++)n.push(e[s]);return n};L.R=function(t){In(this);var e=[];if(typeof t=="string")Zd(this,t)&&(e=Tu(e,this.g.get(ks(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Tu(e,t[n])}return e};L.set=function(t,e){return In(this),this.i=null,t=ks(this,t),Zd(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};L.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function ep(t,e,n){Jd(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),kc(n)),t.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),t.push(o)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Xw(t,e){e&&!t.j&&(In(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Jd(this,s),ep(this,r,n))},t)),t.j=e}var Jw=class{constructor(t,e){this.h=t,this.g=e}};function tp(t){this.l=t||Zw,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ea&&J.g.Ea()&&J.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zw=10;function np(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sp(t){return t.h?1:t.g?t.g.size:0}function $a(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wc(t,e){t.g?t.g.add(e):t.h=e}function rp(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tp.prototype.cancel=function(){if(this.i=ip(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ip(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return kc(t.i)}function Gc(){}Gc.prototype.stringify=function(t){return J.JSON.stringify(t,void 0)};Gc.prototype.parse=function(t){return J.JSON.parse(t,void 0)};function eb(){this.g=new Gc}function tb(t,e,n){const s=n||"";try{zc(t,function(r,i){let o=r;Ar(r)&&(o=$c(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function nb(t,e){const n=new ro;if(J.Image){const s=new Image;s.onload=Gr(Yr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Gr(Yr,n,s,"TestLoadImage: error",!1,e),s.onabort=Gr(Yr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Gr(Yr,n,s,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Yr(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Or(t){this.l=t.$b||null,this.j=t.ib||!1}Qe(Or,jc);Or.prototype.g=function(){return new uo(this.l,this.j)};Or.prototype.i=function(t){return function(){return t}}({});function uo(t,e){Ve.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Qc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(uo,Ve);var Qc=0;L=uo.prototype;L.open=function(t,e){if(this.readyState!=Qc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yr(this)};L.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||J).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=Qc};L.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;op(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function op(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}L.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lr(this):yr(this),this.readyState==3&&op(this)}};L.Ua=function(t){this.g&&(this.response=this.responseText=t,Lr(this))};L.Ta=function(t){this.g&&(this.response=t,Lr(this))};L.ha=function(){this.g&&Lr(this)};function Lr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yr(t)}L.setRequestHeader=function(t,e){this.v.append(t,e)};L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sb=J.JSON.parse;function Pe(t){Ve.call(this),this.headers=new Rs,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ap,this.K=this.L=!1}Qe(Pe,Ve);var ap="",rb=/^https?$/i,ib=["POST","PUT"];L=Pe.prototype;L.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():La.g(),this.C=this.u?Ru(this.u):Ru(La),this.g.onreadystatechange=ze(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Ou(this,i);return}t=n||"";const r=new Rs(this.headers);s&&zc(s,function(i,o){r.set(o,i)}),s=mw(r.T()),n=J.FormData&&t instanceof J.FormData,!(0<=Id(ib,e))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{up(this),0<this.B&&((this.K=ob(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.pa,this)):this.A=Uc(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Ou(this,i)}};function ob(t){return ws&&Ew()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function ab(t){return t.toLowerCase()=="content-type"}L.pa=function(){typeof Rc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))};function Ou(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,cp(t),ho(t)}function cp(t){t.D||(t.D=!0,Ke(t,"complete"),Ke(t,"error"))}L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ke(this,"complete"),Ke(this,"abort"),ho(this))};L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ho(this,!0)),Pe.Z.M.call(this)};L.Fa=function(){this.s||(this.F||this.v||this.l?lp(this):this.cb())};L.cb=function(){lp(this)};function lp(t){if(t.h&&typeof Rc<"u"&&(!t.C[1]||zt(t)!=4||t.ba()!=2)){if(t.v&&zt(t)==4)Uc(t.Fa,0,t);else if(Ke(t,"readystatechange"),zt(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(Xd)[1]||null;if(!r&&J.self&&J.self.location){var i=J.self.location.protocol;r=i.substr(0,i.length-1)}s=!rb.test(r?r.toLowerCase():"")}n=s}if(n)Ke(t,"complete"),Ke(t,"success");else{t.m=6;try{var o=2<zt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",cp(t)}}finally{ho(t)}}}}function ho(t,e){if(t.g){up(t);const n=t.g,s=t.C[0]?bi:null;t.g=null,t.C=null,e||Ke(t,"ready");try{n.onreadystatechange=s}catch{}}}function up(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function zt(t){return t.g?t.g.readyState:0}L.ba=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}};L.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sb(e)}};function Lu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ap:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}L.Da=function(){return this.m};L.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function cb(t){let e="";return Nc(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Yc(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=cb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function Us(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hp(t){this.za=0,this.l=[],this.h=new ro,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Us("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Us("baseRetryDelayMs",5e3,t),this.$a=Us("retryDelaySeedMs",1e4,t),this.Ya=Us("forwardChannelMaxRetries",2,t),this.ra=Us("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new tp(t&&t.concurrentRequestLimit),this.Ca=new eb,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}L=hp.prototype;L.ma=8;L.G=1;function Xc(t){if(fp(t),t.G==3){var e=t.V++,n=Xt(t.F);xe(n,"SID",t.J),xe(n,"RID",e),xe(n,"TYPE","terminate"),Pr(t,n),e=new kr(t,t.h,e,void 0),e.K=2,e.v=lo(Xt(n)),n=!1,J.navigator&&J.navigator.sendBeacon&&(n=J.navigator.sendBeacon(e.v.toString(),"")),!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=bp(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nr(e)}vp(t)}L.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function fo(t){t.g&&(Zc(t),t.g.cancel(),t.g=null)}function fp(t){fo(t),t.u&&(J.clearTimeout(t.u),t.u=null),Ai(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Go(t,e){t.l.push(new Jw(t.Za++,e)),t.G==3&&po(t)}function po(t){np(t.i)||t.m||(t.m=!0,Bc(t.Ha,t),t.C=0)}function lb(t,e){return sp(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Dr(ze(t.Ha,t,e),yp(t,t.C)),t.C++,!0)}L.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new kr(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=Sd(i),Ad(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=dp(this,r,e),n=Xt(this.F),xe(n,"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),Pr(this,n),this.o&&i&&Yc(n,this.o,i),Wc(this.i,r),this.Ra&&xe(n,"TYPE","init"),this.ja?(xe(n,"$req",e),xe(n,"SID","null"),r.$=!0,Ma(r,n,null)):Ma(r,n,e),this.G=2}}else this.G==3&&(t?Pu(this,t):this.l.length==0||np(this.i)||Pu(this))};function Pu(t,e){var n;e?n=e.m:n=t.V++;const s=Xt(t.F);xe(s,"SID",t.J),xe(s,"RID",n),xe(s,"AID",t.U),Pr(t,s),t.o&&t.s&&Yc(s,t.o,t.s),n=new kr(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=dp(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Wc(t.i,n),Ma(n,s,e)}function Pr(t,e){t.j&&zc({},function(n,s){xe(e,s,n)})}function dp(t,e,n){n=Math.min(t.l.length,n);var s=t.j?ze(t.j.Oa,t.j,t):null;e:{var r=t.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{tb(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,s}function pp(t){t.g||t.u||(t.Y=1,Bc(t.Ga,t),t.A=0)}function Jc(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Dr(ze(t.Ga,t),yp(t,t.A)),t.A++,!0)}L.Ga=function(){if(this.u=null,gp(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Dr(ze(this.bb,this),t)}};L.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,st(10),fo(this),gp(this))};function Zc(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function gp(t){t.g=new kr(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Xt(t.oa);xe(e,"RID","rpc"),xe(e,"SID",t.J),xe(e,"CI",t.N?"0":"1"),xe(e,"AID",t.U),Pr(t,e),xe(e,"TYPE","xmlhttp"),t.o&&t.s&&Yc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=lo(Xt(e)),n.s=null,n.U=!0,Wd(n,t)}L.ab=function(){this.v!=null&&(this.v=null,fo(this),Jc(this),st(19))};function Ai(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function mp(t,e){var n=null;if(t.g==e){Ai(t),Zc(t),t.g=null;var s=2}else if($a(t.i,e))n=e.D,rp(t.i,e),s=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=io(),Ke(s,new Hd(s,n)),po(t)}else pp(t);else if(r=e.o,r==3||r==0&&0<t.I||!(s==1&&lb(t,e)||s==2&&Jc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Fn(t,5);break;case 4:Fn(t,10);break;case 3:Fn(t,6);break;default:Fn(t,2)}}}function yp(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Fn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var s=ze(t.jb,t);n||(n=new Qn("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Ii(n,"https"),lo(n)),nb(n.toString(),s)}else st(2);t.G=0,t.j&&t.j.va(e),vp(t),fp(t)}L.jb=function(t){t?(this.h.info("Successfully pinged google.com"),st(2)):(this.h.info("Failed to ping google.com"),st(1))};function vp(t){t.G=0,t.I=-1,t.j&&((ip(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,kc(t.l),t.l.length=0),t.j.ua())}function wp(t,e,n){let s=qw(n);if(s.i!="")e&&_i(s,e+"."+s.i),Si(s,s.m);else{const r=J.location;s=zw(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Nc(t.aa,function(r,i){xe(s,i,r)}),e=t.D,n=t.sa,e&&n&&xe(s,e,n),xe(s,"VER",t.ma),Pr(t,s),s}function bp(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Pe(new Or({ib:!0})):new Pe(t.qa),e.L=t.H,e}function Ep(){}L=Ep.prototype;L.xa=function(){};L.wa=function(){};L.va=function(){};L.ua=function(){};L.Oa=function(){};function xi(){if(ws&&!(10<=Number(Tw)))throw Error("Environmental error: no available transport.")}xi.prototype.g=function(t,e){return new vt(t,e)};function vt(t,e){Ve.call(this),this.g=new hp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ei(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ei(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ns(this)}Qe(vt,Ve);vt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bc(ze(t.hb,t,e))),st(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=wp(t,null,t.W),po(t)};vt.prototype.close=function(){Xc(this.g)};vt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Go(this.g,e)}else this.v?(e={},e.__data__=$c(t),Go(this.g,e)):Go(this.g,t)};vt.prototype.M=function(){this.g.j=null,delete this.j,Xc(this.g),delete this.g,vt.Z.M.call(this)};function Tp(t){Hc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qe(Tp,Hc);function Cp(){qc.call(this),this.status=1}Qe(Cp,qc);function Ns(t){this.g=t}Qe(Ns,Ep);Ns.prototype.xa=function(){Ke(this.g,"a")};Ns.prototype.wa=function(t){Ke(this.g,new Tp(t))};Ns.prototype.va=function(t){Ke(this.g,new Cp)};Ns.prototype.ua=function(){Ke(this.g,"b")};xi.prototype.createWebChannel=xi.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;oo.NO_ERROR=0;oo.TIMEOUT=8;oo.HTTP_ERROR=6;qd.COMPLETE="complete";zd.EventType=Rr;Rr.OPEN="a";Rr.CLOSE="b";Rr.ERROR="c";Rr.MESSAGE="d";Ve.prototype.listen=Ve.prototype.N;Pe.prototype.listenOnce=Pe.prototype.O;Pe.prototype.getLastError=Pe.prototype.La;Pe.prototype.getLastErrorCode=Pe.prototype.Da;Pe.prototype.getStatus=Pe.prototype.ba;Pe.prototype.getResponseJson=Pe.prototype.Qa;Pe.prototype.getResponseText=Pe.prototype.ga;Pe.prototype.send=Pe.prototype.ea;var ub=function(){return new xi},hb=function(){return io()},Qo=oo,fb=qd,db=ts,Mu={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pb=Or,Xr=zd,gb=Pe;const Fu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new xc("@firebase/firestore");function $u(){return Yn.logLevel}function H(t,...e){if(Yn.logLevel<=ye.DEBUG){const n=e.map(el);Yn.debug(`Firestore (${Os}): ${t}`,...n)}}function Jt(t,...e){if(Yn.logLevel<=ye.ERROR){const n=e.map(el);Yn.error(`Firestore (${Os}): ${t}`,...n)}}function Bu(t,...e){if(Yn.logLevel<=ye.WARN){const n=e.map(el);Yn.warn(`Firestore (${Os}): ${t}`,...n)}}function el(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: `+t;throw Jt(e),new Error(e)}function Le(t,e){t||ie()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class vb{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string"),new mb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new ct(e)}}class wb{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Le(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class bb{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r}getToken(){return Promise.resolve(new wb(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tb{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const s=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.A=n.token,new Eb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=Cb(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function be(t,e){return t<e?-1:t>e?1:0}function bs(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ft(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new ft(0,0))}static max(){return new oe(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ie(),s===void 0?s=e.length-n:s>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends vr{construct(e,n,s){return new Re(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Y(N.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends vr{construct(e,n,s){return new ut(e,n,s)}static isValidIdentifier(e){return _b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Y(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new Y(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new Y(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Re.fromString(e))}static fromName(e){return new Q(Re.fromString(e).popFirst(5))}static empty(){return new Q(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Re(e.slice()))}}function Sb(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=oe.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new vn(r,Q.empty(),e)}function Ab(t){return new vn(t.readTime,t.key,-1)}class vn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new vn(oe.min(),Q.empty(),-1)}static max(){return new vn(oe.max(),Q.empty(),-1)}}function xb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==Db)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,s)=>{n(e)})}static reject(e){return new _((n,s)=>{s(e)})}static waitFor(e){return new _((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=_.resolve(!1);for(const s of e)n=n.next(r=>r?_.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new _((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new _((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Mr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nl.at=-1;class Ue{constructor(e,n){this.comparator=e,this.root=n||je.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jr(this.root,e,this.comparator,!0)}}class Jr{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:je.RED,this.left=r!=null?r:je.EMPTY,this.right=i!=null?i:je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new je(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return je.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,s,r){return this}insert(t,e,n){return new je(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uu(this.data.getIterator())}getIteratorFrom(e){return new Uu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class Uu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Me(ut.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ge(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new Ge(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const Nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wn(t){if(Le(!!t),typeof t=="string"){let e=0;const n=Nb.exec(t);if(Le(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Ge.fromBase64String(t):Ge.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _p(t){const e=t.mapValue.fields.__previous_value__;return Ip(e)?_p(e):e}function wr(t){const e=wn(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,s,r,i,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class br{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new br("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof br&&e.projectId===this.projectId&&e.database===this.database}}function mo(t){return t==null}function Ba(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ip(t)?4:Lb(t)?9007199254740991:10:ie()}function jt(t,e){if(t===e)return!0;const n=Xn(t);if(n!==Xn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wr(t).isEqual(wr(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=wn(s.timestampValue),o=wn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Es(s.bytesValue).isEqual(Es(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Oe(s.geoPointValue.latitude)===Oe(r.geoPointValue.latitude)&&Oe(s.geoPointValue.longitude)===Oe(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Oe(s.integerValue)===Oe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Oe(s.doubleValue),o=Oe(r.doubleValue);return i===o?Ba(i)===Ba(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return bs(t.arrayValue.values||[],e.arrayValue.values||[],jt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Vu(i)!==Vu(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!jt(i[a],o[a])))return!1;return!0}(t,e);default:return ie()}}function Er(t,e){return(t.values||[]).find(n=>jt(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;const n=Xn(t),s=Xn(e);if(n!==s)return be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Oe(r.integerValue||r.doubleValue),a=Oe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return ju(t.timestampValue,e.timestampValue);case 4:return ju(wr(t),wr(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Es(r),a=Es(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=be(o[c],a[c]);if(l!==0)return l}return be(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=be(Oe(r.latitude),Oe(i.latitude));return o!==0?o:be(Oe(r.longitude),Oe(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Ts(o[c],a[c]);if(l)return l}return be(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Zr.mapValue&&i===Zr.mapValue)return 0;if(r===Zr.mapValue)return 1;if(i===Zr.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=be(a[u],l[u]);if(h!==0)return h;const f=Ts(o[a[u]],c[l[u]]);if(f!==0)return f}return be(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ie()}}function ju(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=wn(t),s=wn(e),r=be(n.seconds,s.seconds);return r!==0?r:be(n.nanos,s.nanos)}function ps(t){return Va(t)}function Va(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=wn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Es(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Va(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Va(s.fields[a])}`;return i+"}"}(t.mapValue):ie();var e,n}function Ua(t){return!!t&&"integerValue"in t}function sl(t){return!!t&&"arrayValue"in t}function Hu(t){return!!t&&"nullValue"in t}function qu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yo(t){return!!t&&"mapValue"in t}function Js(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Js(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Js(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(n)}setAll(e){let n=ut.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Js(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Yo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Yo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){go(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new $t(Js(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n,s,r,i,o){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new He(e,0,oe.min(),oe.min(),$t.empty(),0)}static newFoundDocument(e,n,s){return new He(e,1,n,oe.min(),s,0)}static newNoDocument(e,n){return new He(e,2,n,oe.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,oe.min(),$t.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ht=null}}function zu(t,e=null,n=[],s=[],r=null,i=null,o=null){return new Pb(t,e,n,s,r,i,o)}function rl(t){const e=fe(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>{return(r=s).field.canonicalString()+r.op.toString()+ps(r.value);var r}).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),mo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ps(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ps(s)).join(",")),e.ht=n}return e.ht}function Mb(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${ps(s.value)}`;var s}).join(", ")}]`),mo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ps(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ps(n)).join(",")),`Target(${e})`}function il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!qb(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],s=e.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!jt(n.value,s.value))return!1;var n,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wu(t.startAt,e.startAt)&&Wu(t.endAt,e.endAt)}function ja(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ht extends class{}{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,s):new Fb(e,n,s):n==="array-contains"?new Vb(e,s):n==="in"?new Ub(e,s):n==="not-in"?new jb(e,s):n==="array-contains-any"?new Hb(e,s):new ht(e,n,s)}static lt(e,n,s){return n==="in"?new $b(e,s):new Bb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Ts(n,this.value)):n!==null&&Xn(this.value)===Xn(n)&&this.ft(Ts(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Fb extends ht{constructor(e,n,s){super(e,n,s),this.key=Q.fromName(s.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.ft(n)}}class $b extends ht{constructor(e,n){super(e,"in",n),this.keys=Sp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bb extends ht{constructor(e,n){super(e,"not-in",n),this.keys=Sp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Q.fromName(s.referenceValue))}class Vb extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sl(n)&&Er(n.arrayValue,this.value)}}class Ub extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Er(this.value.arrayValue,n)}}class jb extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Er(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Er(this.value.arrayValue,n)}}class Hb extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Er(this.value.arrayValue,s))}}class Di{constructor(e,n){this.position=e,this.inclusive=n}}class Zs{constructor(e,n="asc"){this.field=e,this.dir=n}}function qb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ku(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Q.comparator(Q.fromName(o.referenceValue),n.key):s=Ts(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wu(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this._t=null,this.wt=null,this.startAt,this.endAt}}function zb(t,e,n,s,r,i,o,a){return new yo(t,e,n,s,r,i,o,a)}function Ap(t){return new yo(t)}function Gu(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wb(t){for(const e of t.filters)if(e.dt())return e.field;return null}function Gb(t){return t.collectionGroup!==null}function Tr(t){const e=fe(t);if(e._t===null){e._t=[];const n=Wb(e),s=Kb(e);if(n!==null&&s===null)n.isKeyField()||e._t.push(new Zs(n)),e._t.push(new Zs(ut.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e._t.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Zs(ut.keyField(),i))}}}return e._t}function Zt(t){const e=fe(t);if(!e.wt)if(e.limitType==="F")e.wt=zu(e.path,e.collectionGroup,Tr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Tr(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Zs(i.field,o))}const s=e.endAt?new Di(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Di(e.startAt.position,e.startAt.inclusive):null;e.wt=zu(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.wt}function Ha(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vo(t,e){return il(Zt(t),Zt(e))&&t.limitType===e.limitType}function xp(t){return`${rl(Zt(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${Mb(Zt(t))}; limitType=${t.limitType})`}function ol(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Q.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Ku(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Tr(n),s)||n.endAt&&!function(r,i,o){const a=Ku(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Tr(n),s))}(t,e)}function Qb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dp(t){return(e,n)=>{let s=!1;for(const r of Tr(t)){const i=Yb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Yb(t,e,n){const s=t.field.isKeyField()?Q.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Ts(a,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(e)?"-0":e}}function Jb(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this._=void 0}}function Zb(t,e,n){return t instanceof za?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Ri?Rp(t,e):t instanceof ki?kp(t,e):function(s,r){const i=tE(s,r),o=Qu(i)+Qu(s.yt);return Ua(i)&&Ua(s.yt)?Jb(o):Xb(s.It,o)}(t,e)}function eE(t,e,n){return t instanceof Ri?Rp(t,e):t instanceof ki?kp(t,e):n}function tE(t,e){return t instanceof Ka?Ua(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class za extends wo{}class Ri extends wo{constructor(e){super(),this.elements=e}}function Rp(t,e){const n=Np(e);for(const s of t.elements)n.some(r=>jt(r,s))||n.push(s);return{arrayValue:{values:n}}}class ki extends wo{constructor(e){super(),this.elements=e}}function kp(t,e){let n=Np(e);for(const s of t.elements)n=n.filter(r=>!jt(r,s));return{arrayValue:{values:n}}}class Ka extends wo{constructor(e,n){super(),this.It=e,this.yt=n}}function Qu(t){return Oe(t.integerValue||t.doubleValue)}function Np(t){return sl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nE(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Ri&&s instanceof Ri||n instanceof ki&&s instanceof ki?bs(n.elements,s.elements,jt):n instanceof Ka&&s instanceof Ka?jt(n.yt,s.yt):n instanceof za&&s instanceof za}(t.transform,e.transform)}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ci(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class al{}function Op(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rE(t.key,qn.none()):new cl(t.key,t.data,qn.none());{const n=t.data,s=$t.empty();let r=new Me(ut.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new bo(t.key,s,new Hn(r.toArray()),qn.none())}}function sE(t,e,n){t instanceof cl?function(s,r,i){const o=s.value.clone(),a=Xu(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof bo?function(s,r,i){if(!ci(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Xu(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Lp(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function er(t,e,n,s){return t instanceof cl?function(r,i,o,a){if(!ci(r.precondition,i))return o;const c=r.value.clone(),l=Ju(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof bo?function(r,i,o,a){if(!ci(r.precondition,i))return o;const c=Ju(r.fieldTransforms,a,i),l=i.data;return l.setAll(Lp(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return ci(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function Yu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&bs(n,s,(r,i)=>nE(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cl extends al{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bo extends al{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Lp(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Xu(t,e,n){const s=new Map;Le(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,eE(o,a,n[r]))}return s}function Ju(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Zb(i,o,e))}return s}class rE extends al{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,ae;function Pp(t){if(t===void 0)return Jt("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ne.OK:return N.OK;case Ne.CANCELLED:return N.CANCELLED;case Ne.UNKNOWN:return N.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return N.INTERNAL;case Ne.UNAVAILABLE:return N.UNAVAILABLE;case Ne.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ne.NOT_FOUND:return N.NOT_FOUND;case Ne.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ne.ABORTED:return N.ABORTED;case Ne.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ne.DATA_LOSS:return N.DATA_LOSS;default:return ie()}}(ae=Ne||(Ne={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Ue(Q.comparator);function bn(){return oE}const Mp=new Ue(Q.comparator);function Gs(...t){let e=Mp;for(const n of t)e=e.insert(n.key,n);return e}function aE(t){let e=Mp;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $n(){return tr()}function Fp(){return tr()}function tr(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}new Ue(Q.comparator);const cE=new Me(Q.comparator);function ue(...t){let e=cE;for(const n of t)e=e.add(n);return e}const lE=new Me(be);function $p(){return lE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const s=new Map;return s.set(e,Fr.createSynthesizedTargetChangeForCurrentChange(e,n)),new Eo(oe.min(),s,$p(),bn(),ue())}}class Fr{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Fr(Ge.EMPTY_BYTE_STRING,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,s,r){this.Tt=e,this.removedTargetIds=n,this.key=s,this.Et=r}}class Bp{constructor(e,n){this.targetId=e,this.At=n}}class Vp{constructor(e,n,s=Ge.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Zu{constructor(){this.Rt=0,this.bt=th(),this.Pt=Ge.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ue(),n=ue(),s=ue();return this.bt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ie()}}),new Fr(this.Pt,this.vt,e,n,s)}Nt(){this.Vt=!1,this.bt=th()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class uE{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=bn(),this.qt=eh(),this.Kt=new Me(be)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const s=this.zt(n);switch(e.state){case 0:this.Ht(n)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),s.Ct(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((s,r)=>{this.Ht(r)&&n(r)})}Yt(e){const n=e.targetId,s=e.At.count,r=this.Xt(n);if(r){const i=r.target;if(ja(i))if(s===0){const o=new Q(i.path);this.jt(n,o,He.newNoDocument(o,oe.min()))}else Le(s===1);else this.Zt(n)!==s&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((i,o)=>{const a=this.Xt(o);if(a){if(i.current&&ja(a.target)){const c=new Q(a.target.path);this.Ut.get(c)!==null||this.ee(o,c)||this.jt(o,c,He.newNoDocument(c,e))}i.Dt&&(n.set(o,i.xt()),i.Nt())}});let s=ue();this.qt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Xt(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.Ut.forEach((i,o)=>o.setReadTime(e));const r=new Eo(e,n,this.Kt,this.Ut,s);return this.Ut=bn(),this.qt=eh(),this.Kt=new Me(be),r}Qt(e,n){if(!this.Ht(e))return;const s=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,s),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,s){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,n)?r.kt(n,1):r.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),s&&(this.Ut=this.Ut.insert(n,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new Zu,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Me(be),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Zu),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function eh(){return new Ue(Q.comparator)}function th(){return new Ue(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class dE{constructor(e,n){this.databaseId=e,this.gt=n}}function pE(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Cr(t){return Le(!!t),oe.fromTimestamp(function(e){const n=wn(e);return new ft(n.seconds,n.nanos)}(t))}function mE(t,e){return function(n){return new Re(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Up(t){const e=Re.fromString(t);return Le(qp(e)),e}function Xo(t,e){const n=Up(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(jp(n))}function Wa(t,e){return mE(t.databaseId,e)}function yE(t){const e=Up(t);return e.length===4?Re.emptyPath():jp(e)}function nh(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jp(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vE(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.gt?(Le(l===void 0||typeof l=="string"),Ge.fromBase64String(l||"")):(Le(l===void 0||l instanceof Uint8Array),Ge.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?N.UNKNOWN:Pp(c.code);return new Y(l,c.message||"")}(o);n=new Vp(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Xo(t,s.document.name),i=Cr(s.document.updateTime),o=new $t({mapValue:{fields:s.document.fields}}),a=He.newFoundDocument(r,i,o),c=s.targetIds||[],l=s.removedTargetIds||[];n=new li(c,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Xo(t,s.document),i=s.readTime?Cr(s.readTime):oe.min(),o=He.newNoDocument(r,i),a=s.removedTargetIds||[];n=new li([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Xo(t,s.document),i=s.removedTargetIds||[];n=new li([],i,r,null)}else{if(!("filter"in e))return ie();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new iE(r),o=s.targetId;n=new Bp(o,i)}}return n}function wE(t,e){return{documents:[Wa(t,e.path)]}}function bE(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Wa(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wa(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length===0)return;const l=c.map(u=>function(h){if(h.op==="=="){if(qu(h.value))return{unaryFilter:{field:ss(h.field),op:"IS_NAN"}};if(Hu(h.value))return{unaryFilter:{field:ss(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(qu(h.value))return{unaryFilter:{field:ss(h.field),op:"IS_NOT_NAN"}};if(Hu(h.value))return{unaryFilter:{field:ss(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(h.field),op:IE(h.op),value:h.value}}}(u));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:ss(u.field),direction:CE(u.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,l){return c.gt||mo(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function EE(t){let e=yE(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Le(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=Hp(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Zs(ls(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,mo(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,f=u.values||[];return new Di(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,f=u.values||[];return new Di(f,h)}(n.endAt)),zb(e,r,o,i,a,"F",c,l)}function TE(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hp(t){return t?t.unaryFilter!==void 0?[SE(t)]:t.fieldFilter!==void 0?[_E(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>Hp(e)).reduce((e,n)=>e.concat(n)):ie():[]}function CE(t){return hE[t]}function IE(t){return fE[t]}function ss(t){return{fieldPath:t.canonicalString()}}function ls(t){return ut.fromServerFormat(t.fieldPath)}function _E(t){return ht.create(ls(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}function SE(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ls(t.unaryFilter.field);return ht.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ls(t.unaryFilter.field);return ht.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ls(t.unaryFilter.field);return ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ls(t.unaryFilter.field);return ht.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}function qp(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&sE(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=er(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=er(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Fp();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=Op(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(oe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(n,s)=>Yu(n,s))&&bs(this.baseMutations,e.baseMutations,(n,s)=>Yu(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,s,r,i=oe.min(),o=oe.min(),a=Ge.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.re=e}}function RE(t){const e=EE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ha(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.Ye=new NE}addToCollectionParentIndex(e,n){return this.Ye.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(vn.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(vn.min())}updateCollectionGroup(e,n,s){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class NE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Me(Re.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Me(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Cs(0)}static vn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.changes=new Ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?_.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.getBaseDocument(e,n,s))).next(r=>(s!==null&&er(s.mutation,r,Hn.empty(),ft.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ue()){const r=$n();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Gs();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=$n();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ue()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=bn();const o=tr(),a=tr();return n.forEach((c,l)=>{const u=s.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof bo)?i=i.insert(l.key,l):u!==void 0&&(o.set(l.key,u.mutation.getFieldMask()),er(u.mutation,l,u.mutation.getFieldMask(),ft.now()))}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new LE(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=tr();let r=new Ue((o,a)=>o-a),i=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=s.get(c)||Hn.empty();u=a.applyToLocalView(l,u),s.set(c,u);const h=(r.get(a.batchId)||ue()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=Fp();u.forEach(f=>{if(!i.has(f)){const p=Op(n.get(f),s.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return _.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return Q.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):_.resolve($n());let a=-1,c=i;return o.next(l=>_.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?_.resolve():this.getBaseDocument(e,u,h).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,ue())).next(u=>({batchId:a,changes:aE(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(s=>{let r=Gs();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Gs();return this.indexManager.getCollectionParents(e,r).next(o=>_.forEach(o,a=>{const c=function(l,u){return new yo(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId))).next(i=>{i.forEach((a,c)=>{const l=c.getKey();r.get(l)===null&&(r=r.insert(l,He.newInvalidDocument(l)))});let o=Gs();return r.forEach((a,c)=>{const l=i.get(a);l!==void 0&&er(l.mutation,c,Hn.empty(),ft.now()),ol(n,c)&&(o=o.insert(a,c))}),o})}getBaseDocument(e,n,s){return s===null||s.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):_.resolve(He.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var s;return this.Zn.set(n.id,{id:(s=n).id,version:s.version,createTime:Cr(s.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(s){return{name:s.name,query:RE(s.bundledQuery),readTime:Cr(s.readTime)}}(n)),_.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.overlays=new Ue(Q.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$n();return _.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.ue(e,n,i)}),_.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.es.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.es.delete(s)),_.resolve()}getOverlaysForCollection(e,n,s){const r=$n(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return _.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ue((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=$n(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=$n(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return _.resolve(a)}ue(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(s.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new xE(n,s));let i=this.es.get(n);i===void 0&&(i=ue(),this.es.set(n,i)),this.es.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.ns=new Me(Fe.ss),this.rs=new Me(Fe.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const s=new Fe(e,n);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.cs(new Fe(e,n))}hs(e,n){e.forEach(s=>this.removeReference(s,n))}ls(e){const n=new Q(new Re([])),s=new Fe(n,e),r=new Fe(n,e+1),i=[];return this.rs.forEachInRange([s,r],o=>{this.cs(o),i.push(o.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Q(new Re([])),s=new Fe(n,e),r=new Fe(n,e+1);let i=ue();return this.rs.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Fe(e,0),s=this.ns.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Fe{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Q.comparator(e.key,n.key)||be(e._s,n._s)}static os(e,n){return be(e._s,n._s)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Me(Fe.ss)}checkEmpty(e){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AE(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new Fe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ps(s),i=r<0?0:r;return _.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Fe(n,0),r=new Fe(n,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([s,r],o=>{const a=this.ys(o._s);i.push(a)}),_.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Me(be);return n.forEach(r=>{const i=new Fe(r,0),o=new Fe(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([i,o],a=>{s=s.add(a._s)})}),_.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Q.isDocumentKey(i)||(i=i.child(""));const o=new Fe(new Q(i),0);let a=new Me(be);return this.gs.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(s=>{const r=this.ys(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Le(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.gs;return _.forEach(n.mutations,r=>{const i=new Fe(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,n){const s=new Fe(n,0),r=this.gs.firstAfterOrEqual(s);return _.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.Es=e,this.docs=new Ue(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return _.resolve(s?s.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let s=bn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():He.newInvalidDocument(r))}),_.resolve(s)}getAllFromCollection(e,n,s){let r=bn();const i=new Q(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||xb(Ab(c),s)<=0||(r=r.insert(c.key,c.mutableCopy()))}return _.resolve(r)}getAllFromCollectionGroup(e,n,s,r){ie()}As(e,n){return _.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VE(this)}getSize(e){return _.resolve(this.size)}}class VE extends OE{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(s)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.persistence=e,this.Rs=new Ls(n=>rl(n),il),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ll,this.targetCount=0,this.vs=Cs.Pn()}forEachTarget(e,n){return this.Rs.forEach((s,r)=>n(r)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),_.waitFor(i).next(()=>r)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const s=this.Rs.get(n)||null;return _.resolve(s)}addMatchingKeys(e,n,s){return this.Ps.us(n,s),_.resolve()}removeMatchingKeys(e,n,s){this.Ps.hs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),_.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ps.ds(n);return _.resolve(s)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new nl(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new UE(this),this.indexManager=new kE,this.remoteDocumentCache=function(s){return new BE(s)}(s=>this.referenceDelegate.xs(s)),this.It=new DE(n),this.Ns=new ME(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Vs[e.toKey()];return s||(s=new $E(n,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,s){H("MemoryPersistence","Starting transaction:",e);const r=new HE(this.Ss.next());return this.referenceDelegate.ks(),s(r).next(i=>this.referenceDelegate.Ms(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Os(e,n){return _.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,n)))}}class HE extends Rb{constructor(e){super(),this.currentSequenceNumber=e}}class ul{constructor(e){this.persistence=e,this.Fs=new ll,this.$s=null}static Bs(e){return new ul(e)}get Ls(){if(this.$s)return this.$s;throw ie()}addReference(e,n,s){return this.Fs.addReference(s,n),this.Ls.delete(s.toString()),_.resolve()}removeReference(e,n,s){return this.Fs.removeReference(s,n),this.Ls.add(s.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ls.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,s=>{const r=Q.fromPath(s);return this.Us(e,r).next(i=>{i||n.removeEntry(r,oe.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(s=>{s?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Si=s,this.Di=r}static Ci(e,n){let s=ue(),r=ue();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hl(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.ki(e,n).next(i=>i||this.Mi(e,n,r,s)).next(i=>i||this.Oi(e,n))}ki(e,n){if(Gu(n))return _.resolve(null);let s=Zt(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ha(n,null,"F"),s=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=ue(...i);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const l=this.Fi(n,a);return this.$i(n,l,o,c.readTime)?this.ki(e,Ha(n,null,"F")):this.Bi(e,l,n,c)}))})))}Mi(e,n,s,r){return Gu(n)||r.isEqual(oe.min())?this.Oi(e,n):this.Ni.getDocuments(e,s).next(i=>{const o=this.Fi(n,i);return this.$i(n,o,s,r)?this.Oi(e,n):($u()<=ye.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qa(n)),this.Bi(e,o,n,Sb(r,-1)))})}Fi(e,n){let s=new Me(Dp(e));return n.forEach((r,i)=>{ol(e,i)&&(s=s.add(i))}),s}$i(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Oi(e,n){return $u()<=ye.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",qa(n)),this.Ni.getDocumentsMatchingQuery(e,n,vn.min())}Bi(e,n,s,r){return this.Ni.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,s,r){this.persistence=e,this.Li=n,this.It=r,this.Ui=new Ue(be),this.qi=new Ls(i=>rl(i),il),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function KE(t,e,n,s){return new zE(t,e,n,s)}async function zp(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=ue();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(s,c).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}function Kp(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function WE(t,e){const n=fe(t),s=e.snapshotVersion;let r=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.Ui;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(Ge.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(h,p),function(m,v,b){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Cs.updateTargetData(i,p))});let c=bn(),l=ue();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(GE(i,o,e.documentUpdates).next(u=>{c=u.Wi,l=u.zi})),!s.isEqual(oe.min())){const u=n.Cs.getLastRemoteSnapshotVersion(i).next(h=>n.Cs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return _.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.Ui=r,i))}function GE(t,e,n){let s=ue(),r=ue();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=bn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Wi:o,zi:r}})}function QE(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Cs.getTargetData(s,e).next(i=>i?(r=i,_.resolve(r)):n.Cs.allocateTargetId(s).next(o=>(r=new zn(e,o,0,s.currentSequenceNumber),n.Cs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ui.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(s.targetId,s),n.qi.set(e,s.targetId)),s})}async function Ga(t,e,n){const s=fe(t),r=s.Ui.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Mr(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ui=s.Ui.remove(e),s.qi.delete(r.target)}function sh(t,e,n){const s=fe(t);let r=oe.min(),i=ue();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=fe(a),h=u.qi.get(l);return h!==void 0?_.resolve(u.Ui.get(h)):u.Cs.getTargetData(c,l)}(s,o,Zt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Li.getDocumentsMatchingQuery(o,e,n?r:oe.min(),n?i:ue())).next(a=>(YE(s,Qb(e),a),{documents:a,Hi:i})))}function YE(t,e,n){let s=oe.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Ki.set(e,s)}class rh{constructor(){this.activeTargetIds=$p()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XE{constructor(){this.Lr=new rh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,s){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new rh,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,s,r,i){const o=this.ao(e,n);H("RestConnection","Sending: ",o,s);const a={};return this.ho(a,r,i),this.lo(e,o,a,s).then(c=>(H("RestConnection","Received: ",c),c),c=>{throw Bu("RestConnection",`${e} failed with error: `,c,"url: ",o,"request:",s),c})}fo(e,n,s,r,i,o){return this.co(e,n,s,r,i)}ho(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Os,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}ao(e,n){const s=ZE[e];return`${this.oo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,s,r){return new Promise((i,o)=>{const a=new gb;a.listenOnce(fb.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Qo.NO_ERROR:const l=a.getResponseJson();H("Connection","XHR received:",JSON.stringify(l)),i(l);break;case Qo.TIMEOUT:H("Connection",'RPC "'+e+'" timed out'),o(new Y(N.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const u=a.getStatus();if(H("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(m)>=0?m:N.UNKNOWN}(h.status);o(new Y(f,h.message))}else o(new Y(N.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Y(N.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{H("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);a.send(n,"POST",c,s,15)})}_o(e,n,s){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ub(),o=hb(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new pb({})),this.ho(a.initMessageHeaders,n,s),zv()||Kv()||Wv()||Gv()||Qv()||pd()||(a.httpHeadersOverwriteParam="$httpHeaders");const c=r.join("");H("Connection","Creating WebChannel: "+c,a);const l=i.createWebChannel(c,a);let u=!1,h=!1;const f=new eT({Hr:m=>{h?H("Connection","Not sending because WebChannel is closed:",m):(u||(H("Connection","Opening WebChannel transport."),l.open(),u=!0),H("Connection","WebChannel sending:",m),l.send(m))},Jr:()=>l.close()}),p=(m,v,b)=>{m.listen(v,T=>{try{b(T)}catch(x){setTimeout(()=>{throw x},0)}})};return p(l,Xr.EventType.OPEN,()=>{h||H("Connection","WebChannel transport opened.")}),p(l,Xr.EventType.CLOSE,()=>{h||(h=!0,H("Connection","WebChannel transport closed"),f.io())}),p(l,Xr.EventType.ERROR,m=>{h||(h=!0,Bu("Connection","WebChannel transport errored:",m),f.io(new Y(N.UNAVAILABLE,"The operation could not be completed")))}),p(l,Xr.EventType.MESSAGE,m=>{var v;if(!h){const b=m.data[0];Le(!!b);const T=b,x=T.error||((v=T[0])===null||v===void 0?void 0:v.error);if(x){H("Connection","WebChannel received error:",x);const F=x.status;let K=function(ne){const P=Ne[ne];if(P!==void 0)return Pp(P)}(F),B=x.message;K===void 0&&(K=N.INTERNAL,B="Unknown error status: "+F+" with message "+x.message),h=!0,f.io(new Y(K,B)),l.close()}else H("Connection","WebChannel received:",b),f.ro(b)}}),p(o,db.STAT_EVENT,m=>{m.stat===Mu.PROXY?H("Connection","Detected buffering proxy"):m.stat===Mu.NOPROXY&&H("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Jo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){return new dE(t,!0)}class Gp{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=n,this.wo=s,this.mo=r,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),r=Math.max(0,n-s);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,r,i,o,a,c){this.Hs=e,this.Po=s,this.vo=r,this.Vo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Gp(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Jt(n.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.So===n&&this.Go(s,r)},s=>{e(()=>{const r=new Y(N.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(r)})})}Go(e,n){const s=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{s(()=>this.Qo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sT extends nT{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.It=i}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=vE(this.It,e),s=function(r){if(!("targetChange"in r))return oe.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?oe.min():i.readTime?Cr(i.readTime):oe.min()}(e);return this.listener.Wo(n,s)}zo(e){const n={};n.database=nh(this.It),n.addTarget=function(r,i){let o;const a=i.target;return o=ja(a)?{documents:wE(r,a)}:{query:bE(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=gE(r,i.resumeToken):i.snapshotVersion.compareTo(oe.min())>0&&(o.readTime=pE(r,i.snapshotVersion.toTimestamp())),o}(this.It,e);const s=TE(this.It,e);s&&(n.labels=s),this.Bo(n)}Ho(e){const n={};n.database=nh(this.It),n.removeTarget=e,this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=s,this.It=r,this.nu=!1}su(){if(this.nu)throw new Y(N.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.Vo.co(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(N.UNKNOWN,r.toString())})}fo(e,n,s,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.Vo.fo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(N.UNKNOWN,i.toString())})}terminate(){this.nu=!0}}class iT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Jt(n),this.ou=!1):H("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr(o=>{s.enqueueAndForget(async()=>{Br(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=fe(a);c._u.add(4),await $r(c),c.gu.set("Unknown"),c._u.delete(4),await To(c)}(this))})}),this.gu=new iT(s,r)}}async function To(t){if(Br(t))for(const e of t.wu)await e(!0)}async function $r(t){for(const e of t.wu)await e(!1)}function Qp(t,e){const n=fe(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),pl(n)?dl(n):Ps(n).ko()&&fl(n,e))}function Yp(t,e){const n=fe(t),s=Ps(n);n.du.delete(e),s.ko()&&Xp(n,e),n.du.size===0&&(s.ko()?s.Fo():Br(n)&&n.gu.set("Unknown"))}function fl(t,e){t.yu.Ot(e.targetId),Ps(t).zo(e)}function Xp(t,e){t.yu.Ot(e),Ps(t).Ho(e)}function dl(t){t.yu=new uE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Ps(t).start(),t.gu.uu()}function pl(t){return Br(t)&&!Ps(t).No()&&t.du.size>0}function Br(t){return fe(t)._u.size===0}function Jp(t){t.yu=void 0}async function aT(t){t.du.forEach((e,n)=>{fl(t,e)})}async function cT(t,e){Jp(t),pl(t)?(t.gu.hu(e),dl(t)):t.gu.set("Unknown")}async function lT(t,e,n){if(t.gu.set("Online"),e instanceof Vp&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.du.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.du.delete(o),s.yu.removeTarget(o))}(t,e)}catch(s){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await oh(t,s)}else if(e instanceof li?t.yu.Gt(e):e instanceof Bp?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(oe.min()))try{const s=await Kp(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.yu.te(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.du.get(c);l&&r.du.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=r.du.get(a);if(!c)return;r.du.set(a,c.withResumeToken(Ge.EMPTY_BYTE_STRING,c.snapshotVersion)),Xp(r,a);const l=new zn(c.target,a,1,c.sequenceNumber);fl(r,l)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){H("RemoteStore","Failed to raise snapshot:",s),await oh(t,s)}}async function oh(t,e,n){if(!Mr(e))throw e;t._u.add(1),await $r(t),t.gu.set("Offline"),n||(n=()=>Kp(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await To(t)})}async function ah(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const s=Br(n);n._u.add(3),await $r(n),s&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await To(n)}async function uT(t,e){const n=fe(t);e?(n._u.delete(2),await To(n)):e||(n._u.add(2),await $r(n),n.gu.set("Unknown"))}function Ps(t){return t.pu||(t.pu=function(e,n,s){const r=fe(e);return r.su(),new sT(n,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,s)}(t.datastore,t.asyncQueue,{Yr:aT.bind(null,t),Zr:cT.bind(null,t),Wo:lT.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),pl(t)?dl(t):t.gu.set("Unknown")):(await t.pu.stop(),Jp(t))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new gl(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(t,e){if(Jt("AsyncQueue",`${e}: ${t}`),Mr(t))return new Y(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Q.comparator(n.key,s.key):(n,s)=>Q.comparator(n.key,s.key),this.keyedMap=Gs(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new gs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this.Tu=new Ue(Q.comparator)}track(e){const n=e.doc.key,s=this.Tu.get(n);s?e.type!==0&&s.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&s.type!==1?this.Tu=this.Tu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Tu=this.Tu.remove(n):e.type===1&&s.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):ie():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Is{constructor(e,n,s,r,i,o,a,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(e,n,s,r){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new Is(e,n,gs.emptySet(n),i,s,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.Au=void 0,this.listeners=[]}}class fT{constructor(){this.queries=new Ls(e=>xp(e),vo),this.onlineState="Unknown",this.Ru=new Set}}async function dT(t,e){const n=fe(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new hT),r)try{i.Au=await n.onListen(s)}catch(o){const a=Zp(o,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.bu(n.onlineState),i.Au&&e.Pu(i.Au)&&ml(n)}async function pT(t,e){const n=fe(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function gT(t,e){const n=fe(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Pu(r)&&(s=!0);o.Au=r}}s&&ml(n)}function mT(t,e,n){const s=fe(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function ml(t){t.Ru.forEach(e=>{e.next()})}class yT{constructor(e,n,s){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Is(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Nu||!s)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.key=e}}class tg{constructor(e){this.key=e}}class vT{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=ue(),this.mutatedKeys=ue(),this.Ku=Dp(e),this.Gu=new gs(this.Ku)}get Qu(){return this.Lu}ju(e,n){const s=n?n.Wu:new ch,r=n?n.Gu:this.Gu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),p=ol(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(s.track({type:3,doc:p}),b=!0):this.zu(f,p)||(s.track({type:2,doc:p}),b=!0,(c&&this.Ku(p,c)>0||l&&this.Ku(p,l)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),b=!0):f&&!p&&(s.track({type:1,doc:f}),b=!0,(c||l)&&(a=!0)),b&&(p?(o=o.add(p),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Gu:o,Wu:s,$i:a,mutatedKeys:i}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const i=e.Wu.Eu();i.sort((l,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return p(h)-p(f)}(l.type,u.type)||this.Ku(l.doc,u.doc)),this.Hu(s);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,c=a!==this.Uu;return this.Uu=a,i.length!==0||c?{snapshot:new Is(this.query,e.Gu,r,i,e.mutatedKeys,a===0,c,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new ch,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ue(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const n=[];return e.forEach(s=>{this.qu.has(s)||n.push(new tg(s))}),this.qu.forEach(s=>{e.has(s)||n.push(new eg(s))}),n}Zu(e){this.Lu=e.Hi,this.qu=ue();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Is.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class wT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bT{constructor(e){this.key=e,this.ec=!1}}class ET{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ls(a=>xp(a),vo),this.ic=new Map,this.rc=new Set,this.oc=new Ue(Q.comparator),this.uc=new Map,this.cc=new ll,this.ac={},this.hc=new Map,this.lc=Cs.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function TT(t,e){const n=DT(t);let s,r;const i=n.sc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.tc();else{const o=await QE(n.localStore,Zt(e));n.isPrimaryClient&&Qp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await CT(n,e,s,a==="current")}return r}async function CT(t,e,n,s){t.dc=(u,h,f)=>async function(p,m,v,b){let T=m.view.ju(v);T.$i&&(T=await sh(p.localStore,m.query,!1).then(({documents:K})=>m.view.ju(K,T)));const x=b&&b.targetChanges.get(m.targetId),F=m.view.applyChanges(T,p.isPrimaryClient,x);return uh(p,m.targetId,F.Yu),F.snapshot}(t,u,h,f);const r=await sh(t.localStore,e,!0),i=new vT(e,r.Hi),o=i.ju(r.documents),a=Fr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline"),c=i.applyChanges(o,t.isPrimaryClient,a);uh(t,n,c.Yu);const l=new wT(e,n,i);return t.sc.set(e,l),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}async function IT(t,e){const n=fe(t),s=n.sc.get(e),r=n.ic.get(s.targetId);if(r.length>1)return n.ic.set(s.targetId,r.filter(i=>!vo(i,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Ga(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Yp(n.remoteStore,s.targetId),Qa(n,s.targetId)}).catch(tl)):(Qa(n,s.targetId),await Ga(n.localStore,s.targetId,!0))}async function ng(t,e){const n=fe(t);try{const s=await WE(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.uc.get(i);o&&(Le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ec=!0:r.modifiedDocuments.size>0?Le(o.ec):r.removedDocuments.size>0&&(Le(o.ec),o.ec=!1))}),await rg(n,s,e)}catch(s){await tl(s)}}function lh(t,e,n){const s=fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.sc.forEach((i,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=fe(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.bu(o)&&(c=!0)}),c&&ml(a)}(s.eventManager,e),r.length&&s.nc.Wo(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _T(t,e,n){const s=fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.uc.get(e),i=r&&r.key;if(i){let o=new Ue(Q.comparator);o=o.insert(i,He.newNoDocument(i,oe.min()));const a=ue().add(i),c=new Eo(oe.min(),new Map,new Me(be),o,a);await ng(s,c),s.oc=s.oc.remove(i),s.uc.delete(e),yl(s)}else await Ga(s.localStore,e,!1).then(()=>Qa(s,e,n)).catch(tl)}function Qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ic.get(e))t.sc.delete(s),n&&t.nc._c(s,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(s=>{t.cc.containsKey(s)||sg(t,s)})}function sg(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(Yp(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),yl(t))}function uh(t,e,n){for(const s of n)s instanceof eg?(t.cc.addReference(s.key,e),ST(t,s)):s instanceof tg?(H("SyncEngine","Document no longer in limbo: "+s.key),t.cc.removeReference(s.key,e),t.cc.containsKey(s.key)||sg(t,s.key)):ie()}function ST(t,e){const n=e.key,s=n.path.canonicalString();t.oc.get(n)||t.rc.has(s)||(H("SyncEngine","New document in limbo: "+n),t.rc.add(s),yl(t))}function yl(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Q(Re.fromString(e)),s=t.lc.next();t.uc.set(s,new bT(n)),t.oc=t.oc.insert(n,s),Qp(t.remoteStore,new zn(Zt(Ap(n.path)),s,2,nl.at))}}async function rg(t,e,n){const s=fe(t),r=[],i=[],o=[];s.sc.isEmpty()||(s.sc.forEach((a,c)=>{o.push(s.dc(c,e,n).then(l=>{if(l){s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),r.push(l);const u=hl.Ci(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.nc.Wo(r),await async function(a,c){const l=fe(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Mr(u))throw u;H("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const f=l.Ui.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);l.Ui=l.Ui.insert(h,m)}}}(s.localStore,i))}async function AT(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const s=await zp(n.localStore,e);n.currentUser=e,function(r,i){r.hc.forEach(o=>{o.forEach(a=>{a.reject(new Y(N.CANCELLED,i))})}),r.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rg(n,s.ji)}}function xT(t,e){const n=fe(t),s=n.uc.get(e);if(s&&s.ec)return ue().add(s.key);{let r=ue();const i=n.ic.get(e);if(!i)return r;for(const o of i){const a=n.sc.get(o);r=r.unionWith(a.view.Qu)}return r}}function DT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ng.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_T.bind(null,e),e.nc.Wo=gT.bind(null,e.eventManager),e.nc._c=mT.bind(null,e.eventManager),e}class RT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Wp(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return KE(this.persistence,new qE,e.initialUser,this.It)}gc(e){return new jE(ul.Bs,this.It)}mc(e){return new XE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lh(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AT.bind(null,this.syncEngine),await uT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fT}createDatastore(e){const n=Wp(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new tT(r));var r;return function(i,o,a,c){return new rT(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>lh(this.syncEngine,a,0),o=ih.C()?new ih:new JE,new oT(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new ET(s,r,i,o,a,c);return l&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);H("RemoteStore","RemoteStore shutting down."),n._u.add(5),await $r(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=ct.UNAUTHENTICATED,this.clientId=Ib.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Zp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function LT(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await zp(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function PT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MT(t);H("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>ah(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ah(e.remoteStore,i)),t.onlineComponents=e}async function MT(t){return t.offlineComponents||(H("FirestoreClient","Using default OfflineComponentProvider"),await LT(t,new RT)),t.offlineComponents}async function FT(t){return t.onlineComponents||(H("FirestoreClient","Using default OnlineComponentProvider"),await PT(t,new kT)),t.onlineComponents}async function $T(t){const e=await FT(t),n=e.eventManager;return n.onListen=TT.bind(null,e.syncEngine),n.onUnlisten=IT.bind(null,e.syncEngine),n}function BT(t,e,n={}){const s=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const l=new NT({next:h=>{i.enqueueAndForget(()=>pT(r,u)),h.fromCache&&a.source==="server"?c.reject(new Y(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new yT(o,l,{includeMetadataChanges:!0,Nu:!0});return dT(r,u)}(await $T(t),t.asyncQueue,e,n,s)),s.promise}const hh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e,n){if(!n)throw new Y(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UT(t,e,n,s){if(e===!0&&s===!0)throw new Y(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fh(t){if(Q.isDocumentKey(t))throw new Y(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function dh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jT(t);throw new Y(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,UT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ph({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ph(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new yb;switch(n.type){case"gapi":const s=n.client;return new bb(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hh.get(e);n&&(H("ComponentProvider","Removing Datastore"),hh.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class ms extends Co{constructor(e,n,s){super(e,n,Ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new Q(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function HT(t,e,...n){if(t=Ac(t),VT("collection","path",e),t instanceof ig){const s=Re.fromString(e,...n);return fh(s),new ms(t,null,s)}{if(!(t instanceof Ms||t instanceof ms))throw new Y(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Re.fromString(e,...n));return fh(s),new ms(t.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Gp(this,"async_queue_retry"),this.jc=()=>{const n=Jo();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Jo();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Jo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new jn;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Mr(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{this.qc=s,this.Kc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Jt("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Kc=!1,s))));return this.$c=n,n}enqueueAfterDelay(e,n,s){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const r=gl.createAndSchedule(this,e,n,s,i=>this.Jc(i));return this.Uc.push(r),r}Wc(){this.qc&&ie()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class og extends ig{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new qT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ag(this),this._firestoreClient.terminate()}}function zT(t,e){const n=typeof t=="object"?t:Ed(),s=typeof t=="string"?t:e||"(default)";return Sr(n,"firestore").getImmediate({identifier:s})}function KT(t){return t._firestoreClient||ag(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ag(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new Ob(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new OT(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(Ge.fromBase64String(e))}catch(n){throw new Y(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}const GT=new RegExp("[~\\*/\\[\\]]");function QT(t,e,n){if(e.search(GT)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new Y(N.INVALID_ARGUMENT,a+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YT extends lg{data(){return super.data()}}function ug(t,e){return typeof e=="string"?QT(t,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XT extends lg{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ui(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ui extends XT{data(e={}){return super.data(e)}}class JT{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ei(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ui(this._firestore,this._userDataWriter,s.key,s,new ei(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>({type:"added",doc:new ui(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ei(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:i++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new ui(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ei(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:ZT(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{convertValue(e,n="none"){switch(Xn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){const s={};return go(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new WT(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_p(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wr(e));default:return null}}convertTimestamp(e){const n=wn(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Re.fromString(e);Le(qp(s));const r=new br(s.get(1),s.get(3)),i=new Q(s.popFirst(5));return r.isEqual(n)||Jt(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class nC extends tC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}function sC(t){t=dh(t,Co);const e=dh(t.firestore,og),n=KT(e),s=new nC(e);return eC(t._query),BT(n,t._query).then(r=>new JT(e,s,t,r))}(function(t,e=!0){(function(n){Os=n})(Z0),yn(new Yt("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new og(new vb(n.getProvider("auth-internal")),new Tb(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new br(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Vt(Fu,"3.4.15",t),Vt(Fu,"3.4.15","esm2017")})();const rC="/t-project-form/assets/logo.756d19f4.svg";var iC="firebase",oC="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt(iC,oC,"app");const hg="@firebase/installations",vl="0.5.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=1e4,dg=`w:${vl}`,pg="FIS_v2",aC="https://firebaseinstallations.googleapis.com/v1",cC=60*60*1e3,lC="installations",uC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Jn=new eo(lC,uC,hC);function gg(t){return t instanceof Tn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg({projectId:t}){return`${aC}/projects/${t}/installations`}function yg(t){return{token:t.token,requestStatus:2,expiresIn:dC(t.expiresIn),creationTime:Date.now()}}async function vg(t,e){const s=(await e.json()).error;return Jn.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function wg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fC(t,{refreshToken:e}){const n=wg(t);return n.append("Authorization",pC(e)),n}async function bg(t){const e=await t();return e.status>=500&&e.status<600?t():e}function dC(t){return Number(t.replace("s","000"))}function pC(t){return`${pg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=mg(t),r=wg(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={fid:n,authVersion:pg,appId:t.appId,sdkVersion:dg},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await bg(()=>fetch(s,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:yg(l.authToken)}}else throw await vg("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=/^[cdef][\w-]{21}$/,Ya="";function vC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wC(t);return yC.test(n)?n:Ya}catch{return Ya}}function wC(t){return mC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Map;function Cg(t,e){const n=Io(t);Ig(n,e),bC(n,e)}function Ig(t,e){const n=Tg.get(t);if(!!n)for(const s of n)s(e)}function bC(t,e){const n=EC();n&&n.postMessage({key:t,fid:e}),TC()}let Bn=null;function EC(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=t=>{Ig(t.data.key,t.data.fid)}),Bn}function TC(){Tg.size===0&&Bn&&(Bn.close(),Bn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-installations-database",IC=1,Zn="firebase-installations-store";let Zo=null;function wl(){return Zo||(Zo=wd(CC,IC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zn)}}})),Zo}async function Oi(t,e){const n=Io(t),r=(await wl()).transaction(Zn,"readwrite"),i=r.objectStore(Zn),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&Cg(t,e.fid),e}async function _g(t){const e=Io(t),s=(await wl()).transaction(Zn,"readwrite");await s.objectStore(Zn).delete(e),await s.done}async function _o(t,e){const n=Io(t),r=(await wl()).transaction(Zn,"readwrite"),i=r.objectStore(Zn),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&Cg(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){let e;const n=await _o(t.appConfig,s=>{const r=_C(s),i=SC(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===Ya?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _C(t){const e=t||{fid:vC(),registrationStatus:0};return Sg(e)}function SC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Jn.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=AC(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xC(t)}:{installationEntry:e}}async function AC(t,e){try{const n=await gC(t,e);return Oi(t.appConfig,n)}catch(n){throw gg(n)&&n.customData.serverCode===409?await _g(t.appConfig):await Oi(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function xC(t){let e=await mh(t.appConfig);for(;e.registrationStatus===1;)await Eg(100),e=await mh(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await bl(t);return s||n}return e}function mh(t){return _o(t,e=>{if(!e)throw Jn.create("installation-not-found");return Sg(e)})}function Sg(t){return DC(t)?{fid:t.fid,registrationStatus:0}:t}function DC(t){return t.registrationStatus===1&&t.registrationTime+fg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC({appConfig:t,heartbeatServiceProvider:e},n){const s=kC(t,n),r=fC(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={installation:{sdkVersion:dg,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await bg(()=>fetch(s,a));if(c.ok){const l=await c.json();return yg(l)}else throw await vg("Generate Auth Token",c)}function kC(t,{fid:e}){return`${mg(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e=!1){let n;const s=await _o(t.appConfig,i=>{if(!Ag(i))throw Jn.create("not-registered");const o=i.authToken;if(!e&&LC(o))return i;if(o.requestStatus===1)return n=NC(t,e),i;{if(!navigator.onLine)throw Jn.create("app-offline");const a=MC(i);return n=OC(t,a),a}});return n?await n:s.authToken}async function NC(t,e){let n=await yh(t.appConfig);for(;n.authToken.requestStatus===1;)await Eg(100),n=await yh(t.appConfig);const s=n.authToken;return s.requestStatus===0?El(t,e):s}function yh(t){return _o(t,e=>{if(!Ag(e))throw Jn.create("not-registered");const n=e.authToken;return FC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OC(t,e){try{const n=await RC(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Oi(t.appConfig,s),n}catch(n){if(gg(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _g(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Oi(t.appConfig,s)}throw n}}function Ag(t){return t!==void 0&&t.registrationStatus===2}function LC(t){return t.requestStatus===2&&!PC(t)}function PC(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cC}function MC(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function FC(t){return t.requestStatus===1&&t.requestTime+fg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(t){const e=t,{installationEntry:n,registrationPromise:s}=await bl(e);return s?s.catch(console.error):El(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(t,e=!1){const n=t;return await VC(n),(await El(n,e)).token}async function VC(t){const{registrationPromise:e}=await bl(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){if(!t||!t.options)throw ea("App Configuration");if(!t.name)throw ea("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ea(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ea(t){return Jn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="installations",jC="installations-internal",HC=t=>{const e=t.getProvider("app").getImmediate(),n=UC(e),s=Sr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qC=t=>{const e=t.getProvider("app").getImmediate(),n=Sr(e,xg).getImmediate();return{getId:()=>$C(n),getToken:r=>BC(n,r)}};function zC(){yn(new Yt(xg,HC,"PUBLIC")),yn(new Yt(jC,qC,"PRIVATE"))}zC();Vt(hg,vl);Vt(hg,vl,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="analytics",KC="firebase_id",WC="origin",GC=60*1e3,QC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=new xc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function YC(t,e){const n=document.createElement("script");n.src=`${Dg}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function XC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function JC(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const c=(await Rg(n)).find(l=>l.measurementId===r);c&&await e[c.appId]}}catch(a){mt.error(a)}t("config",r,i)}async function ZC(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await Rg(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&e[l.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){mt.error(i)}}function eI(t,e,n,s){async function r(i,o,a){try{i==="event"?await ZC(t,e,n,o,a):i==="config"?await JC(t,e,n,s,o,a):i==="consent"?t("consent","update",a):t("set",o)}catch(c){mt.error(c)}}return r}function tI(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=eI(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function nI(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Dg))return e;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Tt=new eo("analytics","Analytics",sI);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=30,iI=1e3;class oI{constructor(e={},n=iI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kg=new oI;function aI(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cI(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:aI(s)},i=QC.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Tt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function lI(t,e=kg,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Tt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Tt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fI;return setTimeout(async()=>{a.abort()},n!==void 0?n:GC),Ng({appId:s,apiKey:r,measurementId:i},o,a,e)}async function Ng(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=kg){var i,o;const{appId:a,measurementId:c}=t;try{await uI(s,e)}catch(l){if(c)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${(i=l)===null||i===void 0?void 0:i.message}]`),{appId:a,measurementId:c};throw l}try{const l=await cI(t);return r.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!hI(u)){if(r.deleteThrottleMetadata(a),c)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:c};throw l}const h=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?pu(n,r.intervalMillis,rI):pu(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(a,f),mt.debug(`Calling attemptFetch again in ${h} millis`),Ng(t,f,s,r)}}function uI(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Tt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hI(t){if(!(t instanceof Tn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class fI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dI(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(){var t;if(gd())try{await md()}catch(e){return mt.warn(Tt.create("indexeddb-unavailable",{errorInfo:(t=e)===null||t===void 0?void 0:t.toString()}).message),!1}else return mt.warn(Tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gI(t,e,n,s,r,i,o){var a;const c=lI(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>mt.error(p)),e.push(c);const l=pI().then(p=>{if(p)return s.getId()}),[u,h]=await Promise.all([c,l]);nI()||YC(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[WC]="firebase",f.update=!0,h!=null&&(f[KC]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.app=e}_delete(){return delete nr[this.app.options.appId],Promise.resolve()}}let nr={},vh=[];const wh={};let ta="dataLayer",yI="gtag",bh,Og,Eh=!1;function vI(){const t=[];if(pd()&&t.push("This is a browser extension environment."),Yv()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Tt.create("invalid-analytics-context",{errorInfo:e});mt.warn(n.message)}}function wI(t,e,n){vI();const s=t.options.appId;if(!s)throw Tt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tt.create("no-api-key");if(nr[s]!=null)throw Tt.create("already-exists",{id:s});if(!Eh){XC(ta);const{wrappedGtag:i,gtagCore:o}=tI(nr,vh,wh,ta,yI);Og=i,bh=o,Eh=!0}return nr[s]=gI(t,vh,wh,e,bh,ta,n),new mI(t)}function bI(t=Ed()){t=Ac(t);const e=Sr(t,Li);return e.isInitialized()?e.getImmediate():EI(t)}function EI(t,e={}){const n=Sr(t,Li);if(n.isInitialized()){const r=n.getImmediate();if(vi(e,n.getOptions()))return r;throw Tt.create("already-initialized")}return n.initialize({options:e})}function TI(t,e,n,s){t=Ac(t),dI(Og,nr[t.app.options.appId],e,n,s).catch(r=>mt.error(r))}const Th="@firebase/analytics",Ch="0.8.0";function CI(){yn(new Yt(Li,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return wI(s,r,n)},"PUBLIC")),yn(new Yt("analytics-internal",t,"PRIVATE")),Vt(Th,Ch),Vt(Th,Ch,"esm2017");function t(e){try{const n=e.getProvider(Li).getImmediate();return{logEvent:(s,r,i)=>TI(n,s,r,i)}}catch(n){throw Tt.create("interop-component-reg-failed",{reason:n})}}}CI();const II={apiKey:"AIzaSyCpzNSU8-hFQKUFaZ5LrJKU5g7gjO2xres",authDomain:"t-project-form.firebaseapp.com",projectId:"t-project-form",storageBucket:"t-project-form.appspot.com",messagingSenderId:"886292705052",appId:"1:886292705052:web:f227e45776585b4c8d54d9",measurementId:"G-Q5VKESKWPE"},Lg=ew(II);bI(Lg);const _I=zT(Lg),SI=Wi({name:"Home",created(){this.getQuestion()},methods:{getQuestion:async function(){const t=await sC(HT(_I,"questions"));t.forEach(e=>{console.log(`${e.id} => ${e.data()}`),console.dir(e.data())}),this.questions=t}},data(){return{questions:{},ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],logo:rC,whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com"},{text:"Roadmap",href:"https://vuetifyjs.com/en/introduction/roadmap/"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}}),Pg=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};function AI(t,e,n){const s=e.length-1;if(s<0)return t===void 0?n:t;for(let r=0;r<s;r++){if(t==null)return n;t=t[e[r]]}return t==null||t[e[s]]===void 0?n:t[e[s]]}function Ih(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),AI(t,e.split("."),n))}function xI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,s)=>e+s)}function _t(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function _h(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function DI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function en(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const s={};for(const r in t)s[r]=t[r];for(const r in e){const i=t[r],o=e[r];if(_h(i)&&_h(o)){s[r]=en(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){s[r]=n(i,o);continue}s[r]=o}return s}function RI(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function hi(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>hi(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>hi(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return hi(t,e.component.subTree).flat(1)}return[]}function Mg(t,e,n){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?OI(e):"")}function sr(t,e,n){const s=Mg(t,e,n);s!=null&&console.warn(s)}function Sh(t,e,n){const s=Mg(t,e,n);s!=null&&console.error(s)}const kI=/(?:^|[-_])(\w)/g,NI=t=>t.replace(kI,e=>e.toUpperCase()).replace(/[-_]/g,"");function na(t,e){if(t.$root===t)return"<Root>";const n=typeof t=="function"&&t.cid!=null?t.options:t._isVue?t.$options||t.constructor.options:t||{};let s=n.name||n._componentTag;const r=n.__file;if(!s&&r){const i=r.match(/([^/\\]+)\.vue$/);s=i==null?void 0:i[1]}return(s?`<${NI(s)}>`:"<Anonymous>")+(r&&e!==!1?` at ${r}`:"")}function OI(t){if(t._isVue&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const s=e[e.length-1];if(s.constructor===t.constructor){n++,t=t.$parent;continue}else n>0&&(e[e.length-1]=[s,n],n=0)}e.push(t),t=t.$parent}return`

found in

`+e.map((s,r)=>`${r===0?"---> ":" ".repeat(5+r*2)}${Array.isArray(s)?`${na(s[0])}... (${s[1]} recursive calls)`:na(s)}`).join(`
`)}else return`

(found in ${na(t)})`}const LI=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],PI=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,MI=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],FI=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Fg(t){const e=Array(3),n=PI,s=LI;for(let r=0;r<3;++r)e[r]=Math.round(DI(n(s[r][0]*t[0]+s[r][1]*t[1]+s[r][2]*t[2]))*255);return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function Tl(t){const e=[0,0,0],n=FI,s=MI,r=n((t>>16&255)/255),i=n((t>>8&255)/255),o=n((t>>0&255)/255);for(let a=0;a<3;++a)e[a]=s[a][0]*r+s[a][1]*i+s[a][2]*o;return e}const Pi=.20689655172413793,$I=t=>t>Pi**3?Math.cbrt(t):t/(3*Pi**2)+4/29,BI=t=>t>Pi?t**3:3*Pi**2*(t-4/29);function $g(t){const e=$I,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Bg(t){const e=BI,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}function Mi(t){let e;if(typeof t=="number")e=t;else if(typeof t=="string"){let n=t.startsWith("#")?t.substring(1):t;n.length===3&&(n=n.split("").map(s=>s+s).join("")),n.length!==6&&n.length!==8&&sr(`'${t}' is not a valid rgb color`),e=parseInt(n,16)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${t==null?t:t.constructor.name} instead`);return e<0?(sr(`Colors cannot be negative: '${t}'`),e=0):(e>4294967295||isNaN(e))&&(sr(`'${t}' is not a valid rgb color`),e=16777215),e}function VI(t){let e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function Vg(t){const e=Mi(t);return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255}}function UI(t,e){const n=$g(Tl(t));return n[0]=n[0]+e*10,Fg(Bg(n))}function jI(t,e){const n=$g(Tl(t));return n[0]=n[0]-e*10,Fg(Bg(n))}function HI(t){const e=Mi(t);return Tl(e)[1]}function Vr(t,e){const n=_c();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}let Ug=0,fi=new WeakMap;function jg(){const t=Vr("getUid");if(fi.has(t))return fi.get(t);{const e=Ug++;return fi.set(t,e),e}}jg.reset=()=>{Ug=0,fi=new WeakMap};function qI(t){const{provides:e}=Vr("injectSelf");if(e&&t in e)return e[t]}const Ir=Symbol.for("vuetify:defaults");function zI(t){return De(t!=null?t:{})}function Hg(){const t=rt(Ir);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function KI(t,e){const n=Hg(),s=De(t),r=W(()=>{const i=Kt(e==null?void 0:e.scoped),o=Kt(e==null?void 0:e.reset),a=Kt(e==null?void 0:e.root);let c=en(s.value,{prev:n.value});if(i)return c;if(o||a){const l=Number(o||1/0);for(let u=0;u<=l&&c.prev;u++)c=c.prev;return c}return en(c.prev,c)});return dn(Ir,r),r}function WI(t,e){var n,s;return((n=t.props)==null?void 0:n.hasOwnProperty(e))||((s=t.props)==null?void 0:s.hasOwnProperty(RI(e)))}const Ct=function(e){var n,s;return e._setup=(n=e._setup)!=null?n:e.setup,e.name?(e._setup&&(e.props=(s=e.props)!=null?s:{},e.props._as=String,e.setup=function(i,o){const a=_c(),c=Hg(),l=Of(),u=xf({...he(i)});yc(()=>{var v,b,T;const p=c.value.global,m=c.value[(v=i._as)!=null?v:e.name];if(m){const x=Object.entries(m).filter(F=>{let[K]=F;return K.startsWith("V")});x.length&&(l.value=Object.fromEntries(x))}for(const x of Object.keys(i)){let F;WI(a.vnode,x)?F=i[x]:F=(T=(b=m==null?void 0:m[x])!=null?b:p==null?void 0:p[x])!=null?T:i[x],u[x]!==F&&(u[x]=F)}});const h=e._setup(u,o);let f;return Wt(l,(p,m)=>{!p&&f?f.stop():p&&!m&&(f=xm(),f.run(()=>{var b;var v;KI(en((b=(v=qI(Ir))==null?void 0:v.value)!=null?b:{},p))}))},{immediate:!0}),h}),e):(sr("The component is missing an explicit name, unable to generate default prop value"),e)},Dt=typeof window<"u",qg=Dt&&"IntersectionObserver"in window,GI=Dt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);Dt&&typeof CSS<"u"&&CSS.supports("selector(:focus-visible)");function Fs(t,e){return n=>Object.keys(t).reduce((s,r)=>{const o=typeof t[r]=="object"&&t[r]!=null&&!Array.isArray(t[r])?t[r]:{type:t[r]};return n&&r in n?s[r]={...o,default:n[r]}:s[r]=o,e&&(s[r].source=e),s},{})}function Ur(t){const e=Vr("useRender");e.render=t}const So=Fs({tag:{type:String,default:"div"}},"tag"),QI=Ct({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...So()},setup(t,e){let{slots:n}=e;return Ur(()=>G(t.tag,{class:["v-container",{"v-container--fluid":t.fluid}]},n)),{}}}),Cl=["sm","md","lg","xl","xxl"],zg=(()=>Cl.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),Kg=(()=>Cl.reduce((t,e)=>(t["offset"+es(e)]={type:[String,Number],default:null},t),{}))(),Wg=(()=>Cl.reduce((t,e)=>(t["order"+es(e)]={type:[String,Number],default:null},t),{}))(),Ah={col:Object.keys(zg),offset:Object.keys(Kg),order:Object.keys(Wg)};function YI(t,e,n){let s=t;if(!(n==null||n===!1))return e&&(s+=`-${e.replace(t,"")}`),t==="col"&&(s="v-"+s),t==="col"&&(n===""||n===!0)||(s+=`-${n}`),s.toLowerCase()}const XI=["auto","start","end","center","baseline","stretch"],js=Ct({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...zg,offset:{type:[String,Number],default:null},...Kg,order:{type:[String,Number],default:null},...Wg,alignSelf:{type:String,default:null,validator:t=>XI.includes(t)},...So()},setup(t,e){let{slots:n}=e;const s=W(()=>{const r=[];let i;for(i in Ah)Ah[i].forEach(a=>{const c=t[a],l=YI(i,a,c);l&&r.push(l)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),r});return()=>{var r;return En(t.tag,{class:s.value},(r=n.default)==null?void 0:r.call(n))}}}),JI=["sm","md","lg","xl","xxl"],Il=["start","end","center"],Gg=["space-between","space-around","space-evenly"];function _l(t,e){return JI.reduce((n,s)=>(n[t+es(s)]=e(),n),{})}const ZI=[...Il,"baseline","stretch"],Qg=t=>ZI.includes(t),Yg=_l("align",()=>({type:String,default:null,validator:Qg})),e_=[...Il,...Gg],Xg=t=>e_.includes(t),Jg=_l("justify",()=>({type:String,default:null,validator:Xg})),t_=[...Il,...Gg,"stretch"],Zg=t=>t_.includes(t),em=_l("alignContent",()=>({type:String,default:null,validator:Zg})),xh={align:Object.keys(Yg),justify:Object.keys(Jg),alignContent:Object.keys(em)},n_={align:"align",justify:"justify",alignContent:"align-content"};function s_(t,e,n){let s=n_[t];if(n!=null)return e&&(s+=`-${e.replace(t,"")}`),s+=`-${n}`,s.toLowerCase()}const Hs=Ct({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Qg},...Yg,justify:{type:String,default:null,validator:Xg},...Jg,alignContent:{type:String,default:null,validator:Zg},...em,...So()},setup(t,e){let{slots:n}=e;const s=W(()=>{const r=[];let i;for(i in xh)xh[i].forEach(o=>{const a=t[o],c=s_(i,o,a);c&&r.push(c)});return r.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),r});return()=>{var r;return En(t.tag,{class:["v-row",s.value]},(r=n.default)==null?void 0:r.call(n))}}});const r_=Fs({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function i_(t){return{dimensionStyles:W(()=>({height:_t(t.height),maxHeight:_t(t.maxHeight),maxWidth:_t(t.maxWidth),minHeight:_t(t.minHeight),minWidth:_t(t.minWidth),width:_t(t.width)}))}}function o_(t){return{aspectStyles:W(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const a_=Ct({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...r_()},setup(t,e){let{slots:n}=e;const{aspectStyles:s}=o_(t),{dimensionStyles:r}=i_(t);return Ur(()=>{var i;return G("div",{class:"v-responsive",style:r.value},[G("div",{class:"v-responsive__sizer",style:s.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&G("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function c_(t,e){if(!qg)return;const n=e.modifiers||{},s=e.value,{handler:r,options:i}=typeof s=="object"?s:{handler:s,options:{}},o=new IntersectionObserver(function(){var a;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(a=t._observe)==null?void 0:a[e.instance.$.uid];if(!u)return;const h=c.some(f=>f.isIntersecting);r&&(!n.quiet||u.init)&&(!n.once||h||u.init)&&r(h,c,l),h&&n.once?tm(t,e):u.init=!0},i);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function tm(t,e){var n;const s=(n=t._observe)==null?void 0:n[e.instance.$.uid];!s||(s.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const l_={mounted:c_,unmounted:tm},u_=l_,h_=Fs({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),ti=(t,e)=>{var n;let{slots:s}=e;const{transition:r,...i}=t;if(!r||typeof r=="boolean")return(n=s.default)==null?void 0:n.call(s);const{component:o=Sc,...a}=typeof r=="object"?r:{};return En(o,Ic(typeof r=="string"?{name:r}:a,i),s)},f_=Ct({name:"VImg",directives:{intersect:u_},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...h_()},emits:["loadstart","load","error"],setup(t,e){let{emit:n,slots:s}=e;const r=De(""),i=De(),o=De(t.eager?"loading":"idle"),a=De(),c=De(),l=W(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),u=W(()=>l.value.aspect||a.value/c.value||0);Wt(()=>t.src,()=>{h(o.value!=="idle")}),Gf(()=>h());function h(P){if(!(t.eager&&P)&&!(qg&&!P&&!t.eager)){if(o.value="loading",l.value.lazySrc){const $=new Image;$.src=l.value.lazySrc,v($,null)}!l.value.src||zi(()=>{var $,U;if(n("loadstart",(($=i.value)==null?void 0:$.currentSrc)||l.value.src),(U=i.value)!=null&&U.complete){if(i.value.naturalWidth||p(),o.value==="error")return;u.value||v(i.value,null),f()}else u.value||v(i.value),m()})}}function f(){var P;m(),o.value="loaded",n("load",((P=i.value)==null?void 0:P.currentSrc)||l.value.src)}function p(){var P;o.value="error",n("error",((P=i.value)==null?void 0:P.currentSrc)||l.value.src)}function m(){const P=i.value;P&&(r.value=P.currentSrc||P.src)}function v(P){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const U=()=>{const{naturalHeight:se,naturalWidth:de}=P;se||de?(a.value=de,c.value=se):!P.complete&&o.value==="loading"&&$!=null?setTimeout(U,$):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(a.value=1,c.value=1)};U()}const b=W(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),T=W(()=>{var P;if(!l.value.src||o.value==="idle")return;const $=En("img",{class:["v-img__img",b.value],src:l.value.src,srcset:l.value.srcset,alt:"",sizes:t.sizes,ref:i,onLoad:f,onError:p}),U=(P=s.sources)==null?void 0:P.call(s);return G(ti,{transition:t.transition,appear:!0},{default:()=>[ql(U?G("picture",{class:"v-img__picture"},[U,$]):$,[[Mv,o.value==="loaded"]])]})}),x=W(()=>G(ti,{transition:t.transition},{default:()=>[l.value.lazySrc&&o.value!=="loaded"&&G("img",{class:["v-img__img","v-img__img--preload",b.value],src:l.value.lazySrc,alt:""},null)]})),F=W(()=>{if(!!s.placeholder)return G(ti,{transition:t.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!s.error)&&G("div",{class:"v-img__placeholder"},[s.placeholder()])]})}),K=W(()=>{if(!!s.error)return G(ti,{transition:t.transition,appear:!0},{default:()=>[o.value==="error"&&G("div",{class:"v-img__error"},[s.error()])]})}),B=W(()=>{if(!!t.gradient)return G("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null)}),ne=De(!1);{const P=Wt(u,$=>{$&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ne.value=!0})}),P())})}return Ur(()=>ql(G(a_,{class:["v-img",{"v-img--booting":!ne.value}],style:{width:_t(t.width==="auto"?a.value:t.width)},aspectRatio:u.value,"aria-label":t.alt,role:t.alt?"img":void 0},{additional:()=>[T.value,x.value,B.value,F.value,K.value],default:s.default}),[[Py("intersect"),{handler:h,options:t.options},null,{once:!0}]])),{currentSrc:r,image:i,state:o,naturalWidth:a,naturalHeight:c}}}),d_=Bt("h1",{class:"display-2 font-weight-bold mb-3"}," Welcome to Vuetify 3 Beta ",-1),p_=Bt("h4",null,"Vite Preview",-1),g_=Bt("p",{class:"subheading font-weight-regular"},[ba(" For help and collaboration with other Vuetify developers, "),Bt("br"),ba("please join our online "),Bt("a",{href:"https://community.vuetifyjs.com",target:"_blank"},"Discord Community")],-1),m_=Bt("h2",{class:"headline font-weight-bold mb-5"},"What's next?",-1),y_=["href"],v_=Bt("h2",{class:"headline font-weight-bold mb-5"},"Important Links",-1),w_=["href"],b_=Bt("h2",{class:"headline font-weight-bold mb-5"},"Ecosystem",-1),E_=["href"];function T_(t,e,n,s,r,i){return Pt(),va(QI,null,{default:pt(()=>[G(Hs,{class:"text-center"},{default:pt(()=>[G(js,{cols:"12"},{default:pt(()=>[G(f_,{src:t.logo,class:"my-3",contain:"",height:"200"},null,8,["src"])]),_:1}),G(js,{class:"mb-4"},{default:pt(()=>[d_,p_,g_]),_:1}),G(js,{class:"mb-5",cols:"12"},{default:pt(()=>[m_,G(Hs,{justify:"center"},{default:pt(()=>[(Pt(!0),An(lt,null,Wr(t.whatsNext,(o,a)=>(Pt(),An("a",{key:a,href:o.href,class:"subheading mx-3",target:"_blank"},Do(o.text),9,y_))),128))]),_:1})]),_:1}),G(js,{class:"mb-5",cols:"12"},{default:pt(()=>[v_,G(Hs,{justify:"center"},{default:pt(()=>[(Pt(!0),An(lt,null,Wr(t.importantLinks,(o,a)=>(Pt(),An("a",{key:a,href:o.href,class:"subheading mx-3",target:"_blank"},Do(o.text),9,w_))),128))]),_:1})]),_:1}),G(js,{class:"mb-5",cols:"12"},{default:pt(()=>[b_,G(Hs,{justify:"center"},{default:pt(()=>[(Pt(!0),An(lt,null,Wr(t.ecosystem,(o,a)=>(Pt(),An("a",{key:a,href:o.href,class:"subheading mx-3",target:"_blank"},Do(o.text),9,E_))),128))]),_:1})]),_:1})]),_:1}),(Pt(!0),An(lt,null,Wr(this.questions,(o,a)=>(Pt(),va(Hs))),256))]),_:1})}const nm=Pg(SI,[["render",T_]]),C_=Wi({name:"App",components:{HelloWorld:nm},data(){return{}},mounted(){window.addEventListener("beforeunload",this.confirmSave),window.addEventListener("popstate",this.confirmSave)},destroyed(){window.removeEventListener("beforeunload",this.confirmSave),window.removeEventListener("popstate",this.confirmSave)},methods:{confirmSave(t){t.returnValue="\u7DE8\u96C6\u4E2D\u306E\u3082\u306E\u306F\u4FDD\u5B58\u3055\u308C\u307E\u305B\u3093\u304C\u3001\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F"}}});function I_(t){const e=De(),n=De();if(Dt){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(n.value=r[0].contentRect)});wc(()=>{s.disconnect()}),Wt(e,(r,i)=>{i&&(s.unobserve(i),n.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:e,contentRect:Hi(n)}}const Xa=Symbol.for("vuetify:layout"),__=Symbol.for("vuetify:layout-item"),Dh=1e3,S_=Fs({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout");function A_(){const t=rt(Xa);if(!t)throw new Error("Could not find injected Vuetify layout");return t}const x_=(t,e,n,s)=>{let r={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...r}}];for(const o of t){const a=e.get(o),c=n.get(o),l=s.get(o);if(!a||!c||!l)continue;const u={...r,[a.value]:parseInt(r[a.value],10)+(l.value?parseInt(c.value,10):0)};i.push({id:o,layer:u}),r=u}return i};function D_(t){const e=rt(Xa,null),n=W(()=>e?e.rootZIndex.value-100:Dh),s=De([]),r=gt(new Map),i=gt(new Map),o=gt(new Map),a=gt(new Map),c=gt(new Map),{resizeRef:l,contentRect:u}=I_(),h=W(()=>{var P;const B=new Map,ne=(P=t.overlaps)!=null?P:[];for(const $ of ne.filter(U=>U.includes(":"))){const[U,se]=$.split(":");if(!s.value.includes(U)||!s.value.includes(se))continue;const de=r.get(U),O=r.get(se),pe=i.get(U),ke=i.get(se);!de||!O||!pe||!ke||(B.set(se,{position:de.value,amount:parseInt(pe.value,10)}),B.set(U,{position:O.value,amount:-parseInt(ke.value,10)}))}return B}),f=W(()=>{const B=[...new Set([...o.values()].map(P=>P.value))].sort((P,$)=>P-$),ne=[];for(const P of B){const $=s.value.filter(U=>{var se;return((se=o.get(U))==null?void 0:se.value)===P});ne.push(...$)}return x_(ne,r,i,a)}),p=W(()=>!Array.from(c.values()).some(B=>B.value)),m=W(()=>{const B=f.value[f.value.length-1].layer;return{"--v-layout-left":_t(B.left),"--v-layout-right":_t(B.right),"--v-layout-top":_t(B.top),"--v-layout-bottom":_t(B.bottom),...p.value?void 0:{transition:"none"}}}),v=W(()=>f.value.slice(1).map((B,ne)=>{let{id:P}=B;const{layer:$}=f.value[ne],U=i.get(P);return{id:P,...$,size:Number(U.value)}})),b=B=>v.value.find(ne=>ne.id===B),T=Vr("createLayout"),x=De(!1);Yi(()=>{x.value=!0}),dn(Xa,{register:(B,ne)=>{let{id:P,order:$,position:U,layoutSize:se,elementSize:de,active:O,disableTransitions:pe,absolute:ke}=ne;o.set(P,$),r.set(P,U),i.set(P,se),a.set(P,O),pe&&c.set(P,pe);const _e=hi(__,T==null?void 0:T.vnode).indexOf(B);_e>-1?s.value.splice(_e,0,P):s.value.push(P);const me=W(()=>v.value.findIndex(Ze=>Ze.id===P)),ge=W(()=>n.value+f.value.length*2-me.value*2),Je=W(()=>{const Ze=U.value==="left"||U.value==="right",it=U.value==="right",ot=U.value==="bottom",sn={[U.value]:0,zIndex:ge.value,transform:`translate${Ze?"X":"Y"}(${(O.value?0:-110)*(it||ot?-1:1)}%)`,position:ke.value||n.value!==Dh?"absolute":"fixed",...p.value?void 0:{transition:"none"}};if(!x.value)return sn;if(me.value<0)throw new Error(`Layout item "${P}" is missing`);const w=v.value[me.value];if(!w)throw new Error(`Could not find layout item "${P}`);const M=h.value.get(P);return M&&(w[M.position]+=M.amount),{...sn,height:Ze?`calc(100% - ${w.top}px - ${w.bottom}px)`:de.value?`${de.value}px`:void 0,left:it?void 0:`${w.left}px`,right:it?`${w.right}px`:void 0,top:U.value!=="bottom"?`${w.top}px`:void 0,bottom:U.value!=="top"?`${w.bottom}px`:void 0,width:Ze?de.value?`${de.value}px`:void 0:`calc(100% - ${w.left}px - ${w.right}px)`}}),nn=W(()=>({zIndex:ge.value-1}));return{layoutItemStyles:Je,layoutItemScrimStyles:nn,zIndex:ge}},unregister:B=>{o.delete(B),r.delete(B),i.delete(B),a.delete(B),c.delete(B),s.value=s.value.filter(ne=>ne!==B)},mainStyles:m,getLayoutItem:b,items:v,layoutRect:u,rootZIndex:n});const F=W(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),K=W(()=>({zIndex:n.value,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:F,layoutStyles:K,getLayoutItem:b,items:v,layoutRect:u,layoutRef:l}}const rs=2.4,Rh=.2126729,kh=.7151522,Nh=.072175,R_=.55,k_=.58,N_=.57,O_=.62,ni=.03,Oh=1.45,L_=5e-4,P_=1.25,M_=1.25,Lh=.078,Ph=12.82051282051282,si=.06,Mh=.001;function Fh(t,e){const n=((t>>16&255)/255)**rs,s=((t>>8&255)/255)**rs,r=((t>>0&255)/255)**rs,i=((e>>16&255)/255)**rs,o=((e>>8&255)/255)**rs,a=((e>>0&255)/255)**rs;let c=n*Rh+s*kh+r*Nh,l=i*Rh+o*kh+a*Nh;if(c<=ni&&(c+=(ni-c)**Oh),l<=ni&&(l+=(ni-l)**Oh),Math.abs(l-c)<L_)return 0;let u;if(l>c){const h=(l**R_-c**k_)*P_;u=h<Mh?0:h<Lh?h-h*Ph*si:h-si}else{const h=(l**O_-c**N_)*M_;u=h>-Mh?0:h>-Lh?h-h*Ph*si:h+si}return u*100}const Fi=Symbol.for("vuetify:theme"),F_=Fs({theme:String},"theme"),qs={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"kbd-background-color":"#212529","kbd-color":"#FFFFFF","code-background-color":"#C2C2C2"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"kbd-background-color":"#212529","kbd-color":"#FFFFFF","code-background-color":"#B7B7B7"}}}};function $_(){var r;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qs;if(!t)return{...qs,isDisabled:!0};const e={};for(const[i,o]of Object.entries((r=t.themes)!=null?r:{})){var n,s;const a=o.dark?(n=qs.themes)==null?void 0:n.dark:(s=qs.themes)==null?void 0:s.light;e[i]=en(a,o)}return en(qs,{...t,themes:e})}function B_(t,e){const n=t._context.provides.usehead,s=gt($_(e)),r=De(s.defaultTheme),i=De(s.themes),o=W(()=>{const h={};for(const[f,p]of Object.entries(i.value)){const m=h[f]={...p,colors:{...p.colors}};if(s.variations)for(const v of s.variations.colors){const b=m.colors[v];for(const T of["lighten","darken"]){const x=T==="lighten"?UI:jI;for(const F of xI(s.variations[T],1))m.colors[`${v}-${T}-${F}`]=VI(x(Mi(b),F))}}for(const v of Object.keys(m.colors)){if(/^on-[a-z]/.test(v)||m.colors[`on-${v}`])continue;const b=`on-${v}`,T=Mi(m.colors[v]),x=Math.abs(Fh(0,T)),F=Math.abs(Fh(16777215,T));m.colors[b]=F>Math.min(x,50)?"#fff":"#000"}}return h}),a=W(()=>o.value[r.value]),c=W(()=>{const h=[];a.value.dark&&is(h,":root",["color-scheme: dark"]);for(const[v,b]of Object.entries(o.value)){const{variables:T,dark:x}=b;is(h,`.v-theme--${v}`,[`color-scheme: ${x?"dark":"normal"}`,...U_(b),...Object.keys(T).map(F=>{const K=T[F],B=typeof K=="string"&&K.startsWith("#")?Vg(K):void 0,ne=B?`${B.r}, ${B.g}, ${B.b}`:void 0;return`--v-${F}: ${ne!=null?ne:K}`})])}const f=[],p=[],m=new Set(Object.values(o.value).flatMap(v=>Object.keys(v.colors)));for(const v of m)/^on-[a-z]/.test(v)?is(p,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(is(f,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),is(p,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),is(p,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return h.push(...f,...p),h.map((v,b)=>b===0?v:`    ${v}`).join("")});if(n)n.addHeadObjs(W(()=>{const h={children:c.value,type:"text/css",id:"vuetify-theme-stylesheet"};return s.cspNonce&&(h.nonce=s.cspNonce),{style:[h]}})),Dt&&yc(()=>n.updateDOM());else{let f=function(){if(!s.isDisabled){if(typeof document<"u"&&!h){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",s.cspNonce&&p.setAttribute("nonce",s.cspNonce),h=p,document.head.appendChild(h)}h&&(h.innerHTML=c.value)}};var u=f;let h=Dt?document.getElementById("vuetify-theme-stylesheet"):null;Wt(c,f,{immediate:!0})}const l=W(()=>s.isDisabled?void 0:`v-theme--${r.value}`);return{isDisabled:s.isDisabled,name:r,themes:i,current:a,computedThemes:o,themeClasses:l,styles:c,global:{name:r,current:a}}}function V_(t){Vr("provideTheme");const e=rt(Fi,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=W(()=>{var i;return(i=t.theme)!=null?i:e==null?void 0:e.name.value}),s=W(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,themeClasses:s};return dn(Fi,r),r}function is(t,e,n){t.push(`${e} {
`,...n.map(s=>`  ${s};
`),`}
`)}function U_(t){const e=t.dark?2:1,n=t.dark?1:2,s=[];for(const[r,i]of Object.entries(t.colors)){const o=Vg(i);s.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||s.push(`--v-theme-${r}-overlay-multiplier: ${HI(i)>.18?e:n}`)}return s}const j_={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Page {0}, Current Page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}}},H_={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!1,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},Sl=Symbol.for("vuetify:rtl");function q_(t,e){var n;return z_({rtl:{...H_,...(n=e==null?void 0:e.rtl)!=null?n:{}},isRtl:De(!1),rtlClasses:De("")},t)}function z_(t,e,n){const s=W(()=>typeof(n==null?void 0:n.rtl)=="boolean"?n.rtl:e.current.value&&t.rtl.hasOwnProperty(e.current.value)?t.rtl[e.current.value]:t.isRtl.value);return{isRtl:s,rtl:t.rtl,rtlClasses:W(()=>`v-locale--is-${s.value?"rtl":"ltr"}`)}}function K_(){const t=rt(Sl);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return t}const W_=Ct({name:"VApp",props:{...S_({fullHeight:!0}),...F_()},setup(t,e){let{slots:n}=e;const s=V_(t),{layoutClasses:r,layoutStyles:i,getLayoutItem:o,items:a,layoutRef:c}=D_(t),{rtlClasses:l}=K_();return Ur(()=>{var u;return G("div",{ref:c,class:["v-application",s.themeClasses.value,r.value,l.value],style:i.value},[G("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:o,items:a,theme:s}}});function G_(){const t=De(!1);return Yi(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:W(()=>t.value?void 0:{transition:"none !important"}),isBooted:Hi(t)}}const Q_=Ct({name:"VMain",props:{scrollable:Boolean,...So({tag:"main"})},setup(t,e){let{slots:n}=e;const{mainStyles:s}=A_(),{ssrBootStyles:r}=G_();return Ur(()=>{var i,o;return G(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable}],style:[s.value,r.value]},{default:()=>[t.scrollable?G("div",{class:"v-main__scroller"},[(i=n.default)==null?void 0:i.call(n)]):(o=n.default)==null?void 0:o.call(n)]})}),{}}});function Y_(t,e,n,s,r,i){const o=Oy("HelloWorld");return Pt(),va(W_,null,{default:pt(()=>[G(Q_,null,{default:pt(()=>[G(o)]),_:1})]),_:1})}const X_=Pg(C_,[["render",Y_]]);const $h=Symbol.for("vuetify:display"),Bh={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},J_=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bh;return en(Bh,t)};function Vh(t){return Dt&&!t?window.innerWidth:0}function Uh(t){return Dt&&!t?window.innerHeight:0}function Z_(){const t=Dt?window.navigator.userAgent:"ssr";function e(m){return Boolean(t.match(m))}const n=e(/android/i),s=e(/iphone|ipad|ipod/i),r=e(/cordova/i),i=e(/electron/i),o=e(/chrome/i),a=e(/edge/i),c=e(/firefox/i),l=e(/opera/i),u=e(/win/i),h=e(/mac/i),f=e(/linux/i),p=e(/ssr/i);return{android:n,ios:s,cordova:r,electron:i,chrome:o,edge:a,firefox:c,opera:l,win:u,mac:h,linux:f,touch:GI,ssr:p}}function eS(t,e){const{thresholds:n,mobileBreakpoint:s}=J_(t),r=De(Uh(e)),i=Z_(),o=gt({}),a=De(Vh(e));function c(){r.value=Uh(),a.value=Vh()}return e&&zi(()=>c()),yc(()=>{const l=a.value<n.sm,u=a.value<n.md&&!l,h=a.value<n.lg&&!(u||l),f=a.value<n.xl&&!(h||u||l),p=a.value<n.xxl&&!(f||h||u||l),m=a.value>=n.xxl,v=l?"xs":u?"sm":h?"md":f?"lg":p?"xl":"xxl",b=typeof s=="number"?s:n[s],T=i.ssr?i.android||i.ios||i.opera:a.value<b;o.xs=l,o.sm=u,o.md=h,o.lg=f,o.xl=p,o.xxl=m,o.smAndUp=!l,o.mdAndUp=!(l||u),o.lgAndUp=!(l||u||h),o.xlAndUp=!(l||u||h||f),o.smAndDown=!(h||f||p||m),o.mdAndDown=!(f||p||m),o.lgAndDown=!(p||m),o.xlAndDown=!m,o.name=v,o.height=r.value,o.width=a.value,o.mobile=T,o.mobileBreakpoint=s,o.platform=i,o.thresholds=n}),Dt&&window.addEventListener("resize",c,{passive:!0}),sy(o)}const tS={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},nS={component:t=>En(sm,{...t,class:"mdi"})},sS=[String,Function,Object],jh=Symbol.for("vuetify:icons"),Ao=Fs({icon:{type:sS,required:!0},tag:{type:String,required:!0}},"icon");Ct({name:"VComponentIcon",props:Ao(),setup(t){return()=>G(t.tag,null,{default:()=>[G(t.icon,null,null)]})}});const rS=Ct({name:"VSvgIcon",inheritAttrs:!1,props:Ao(),setup(t,e){let{attrs:n}=e;return()=>G(t.tag,Ic(n,{style:null}),{default:()=>[G("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[G("path",{d:t.icon},null)])]})}});Ct({name:"VLigatureIcon",props:Ao(),setup(t){return()=>G(t.tag,null,{default:()=>[t.icon]})}});const sm=Ct({name:"VClassIcon",props:Ao(),setup(t){return()=>G(t.tag,{class:t.icon},null)}}),iS={svg:{component:rS},class:{component:sm}};function oS(t){return en({defaultSet:"mdi",sets:{...iS,mdi:nS},aliases:tS},t)}const Hh=Symbol.for("vuetify:locale-adapter"),ri=Symbol.for("vuetify:locale");function aS(t){return!!t&&t.hasOwnProperty("getScope")&&t.hasOwnProperty("createScope")&&t.hasOwnProperty("createRoot")}function cS(t,e){const n=aS(e)?e:hS(e),s=n.createRoot(t);return t==null||t.provide(Sl,q_(s,e)),n}const qh="$vuetify.",zh=(t,e)=>t.replace(/\{(\d+)\}/g,(n,s)=>String(e[+s])),lS=(t,e,n)=>function(s){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(!s.startsWith(qh))return zh(s,i);const a=s.replace(qh,""),c=t.value&&n.value[t.value],l=e.value&&n.value[e.value];let u=Ih(c,a,null);return u||(sr(`Translation key "${s}" not found in "${t.value}", trying fallback locale`),u=Ih(l,a,null)),u||(Sh(`Translation key "${s}" not found in fallback`),u=s),typeof u!="string"&&(Sh(`Translation key "${s}" has a non-string value`),u=s),zh(u,i)};function uS(t,e){return(n,s)=>new Intl.NumberFormat([t.value,e.value],s).format(n)}function hS(t){const e=n=>{const s=De(n.current),r=De(n.fallback),i=De(n.messages);return{current:s,fallback:r,messages:i,t:lS(s,r,i),n:uS(s,r)}};return{createRoot:n=>{var r,i,o;const s=e({current:(r=t==null?void 0:t.defaultLocale)!=null?r:"en",fallback:(i=t==null?void 0:t.fallbackLocale)!=null?i:"en",messages:(o=t==null?void 0:t.messages)!=null?o:{en:j_}});if(!n)throw new Error("[Vuetify] Could not find default app instance");return n.provide(ri,s),s},getScope:()=>{const n=rt(ri);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n},createScope:n=>{const s=rt(ri);if(!s)throw new Error("[Vuetify] Could not find injected locale instance");const r=e({current:W(()=>{var i;return(i=n==null?void 0:n.locale)!=null?i:s.current.value}),fallback:W(()=>{var i;return(i=n==null?void 0:n.locale)!=null?i:s.fallback.value}),messages:W(()=>{var i;return(i=n==null?void 0:n.messages)!=null?i:s.messages.value})});return dn(ri,r),r}}}const rm=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{install:n=>{const{blueprint:s,...r}=t,i=en(s,r),{aliases:o={},components:a={},directives:c={}}=i;for(const f in c)n.directive(f,c[f]);for(const f in a)n.component(f,a[f]);for(const f in o)n.component(f,Ct({...o[f],name:f}));function l(f){n.provide(Ir,zI(i.defaults)),n.provide($h,eS(i.display,f)),n.provide(Fi,B_(n,i.theme)),n.provide(jh,oS(i.icons)),n.provide(Hh,cS(n,i.locale))}Dt||l(),jg.reset();const u=n.mount;n.mount=(f,p,m)=>{l(p);const v=u(f,p,m);return n.mount=u,v};function h(f){var T;var p,m;const v=this.$,b=(T=(p=v.parent)==null?void 0:p.provides)!=null?T:(m=v.vnode.appContext)==null?void 0:m.provides;if(b&&f in b)return b[f]}n.mixin({computed:{$vuetify(){return gt({defaults:h.call(this,Ir),display:h.call(this,$h),theme:h.call(this,Fi),icons:h.call(this,jh),locale:h.call(this,Hh),rtl:h.call(this,Sl)})}}})}}},fS="3.0.0-beta.10";rm.version=fS;const dS=rm(),pS="modulepreload",gS=function(t){return"/t-project-form/"+t},Kh={},mS=function(e,n,s){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=gS(r),r in Kh)return;Kh[r]=!0;const i=r.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":pS,i||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),i)return new Promise((c,l)=>{a.addEventListener("load",c),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};async function yS(){(await mS(()=>import("./webfontloader.b777d690.js").then(e=>e.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const as=typeof window<"u";function vS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const we=Object.assign;function sa(t,e){const n={};for(const s in e){const r=e[s];n[s]=Rt(r)?r.map(t):t(r)}return n}const rr=()=>{},Rt=Array.isArray,wS=/\/$/,bS=t=>t.replace(wS,"");function ra(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=IS(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function ES(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Wh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function TS(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&_s(e.matched[s],n.matched[r])&&im(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function _s(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function im(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!CS(t[n],e[n]))return!1;return!0}function CS(t,e){return Rt(t)?Gh(t,e):Rt(e)?Gh(e,t):t===e}function Gh(t,e){return Rt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function IS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var _r;(function(t){t.pop="pop",t.push="push"})(_r||(_r={}));var ir;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ir||(ir={}));function _S(t){if(!t)if(as){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bS(t)}const SS=/^[^#]+#/;function AS(t,e){return t.replace(SS,"#")+e}function xS(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const xo=()=>({left:window.pageXOffset,top:window.pageYOffset});function DS(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=xS(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Qh(t,e){return(history.state?history.state.position-e:-1)+t}const Ja=new Map;function RS(t,e){Ja.set(t,e)}function kS(t){const e=Ja.get(t);return Ja.delete(t),e}let NS=()=>location.protocol+"//"+location.host;function om(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Wh(c,"")}return Wh(n,t)+s+r}function OS(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=om(t,location),m=n.value,v=e.value;let b=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}b=v?f.position-v.position:0}else s(p);r.forEach(T=>{T(n.value,m,{delta:b,type:_r.pop,direction:b?b>0?ir.forward:ir.back:ir.unknown})})};function c(){o=n.value}function l(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(we({},f.state,{scroll:xo()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function Yh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?xo():null}}function LS(t){const{history:e,location:n}=window,s={value:om(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:NS()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(c,l){const u=we({},e.state,Yh(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=we({},r.value,e.state,{forward:c,scroll:xo()});i(u.current,u,!0);const h=we({},Yh(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function PS(t){t=_S(t);const e=LS(t),n=OS(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=we({location:"",base:t,go:s,createHref:AS.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function MS(t){return typeof t=="string"||t&&typeof t=="object"}function am(t){return typeof t=="string"||typeof t=="symbol"}const cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cm=Symbol("");var Xh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Xh||(Xh={}));function Ss(t,e){return we(new Error,{type:t,[cm]:!0},e)}function Ht(t,e){return t instanceof Error&&cm in t&&(e==null||!!(t.type&e))}const Jh="[^/]+?",FS={sensitive:!1,strict:!1,start:!0,end:!0},$S=/[.+*?^${}()[\]/\\]/g;function BS(t,e){const n=we({},FS,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace($S,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:v,optional:b,regexp:T}=f;i.push({name:m,repeatable:v,optional:b});const x=T||Jh;if(x!==Jh){p+=10;try{new RegExp(`(${x})`)}catch(K){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+K.message)}}let F=v?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(F=b&&l.length<2?`(?:/${F})`:"/"+F),b&&(F+="?"),r+=F,p+=20,b&&(p+=-8),v&&(p+=-20),x===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:v,optional:b}=p,T=m in l?l[m]:"";if(Rt(T)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=Rt(T)?T.join("/"):T;if(!x)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function VS(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function US(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=VS(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Zh(s))return 1;if(Zh(r))return-1}return r.length-s.length}function Zh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jS={type:0,value:""},HS=/[a-zA-Z0-9_]/;function qS(t){if(!t)return[[]];if(t==="/")return[[jS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${l}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:HS.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function zS(t,e,n){const s=BS(qS(t.path),n),r=we(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function KS(t,e){const n=[],s=new Map;e=nf({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const p=!f,m=WS(u);m.aliasOf=f&&f.record;const v=nf(e,u),b=[m];if("alias"in u){const F=typeof u.alias=="string"?[u.alias]:u.alias;for(const K of F)b.push(we({},m,{components:f?f.record.components:m.components,path:K,aliasOf:f?f.record:m}))}let T,x;for(const F of b){const{path:K}=F;if(h&&K[0]!=="/"){const B=h.record.path,ne=B[B.length-1]==="/"?"":"/";F.path=h.record.path+(K&&ne+K)}if(T=zS(F,h,v),f?f.alias.push(T):(x=x||T,x!==T&&x.alias.push(T),p&&u.name&&!tf(T)&&o(u.name)),m.children){const B=m.children;for(let ne=0;ne<B.length;ne++)i(B[ne],T,f&&f.children[ne])}f=f||T,c(T)}return x?()=>{o(x)}:rr}function o(u){if(am(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&US(u,n[h])>=0&&(u.record.path!==n[h].record.path||!lm(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!tf(u)&&s.set(u.record.name,u)}function l(u,h){let f,p={},m,v;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Ss(1,{location:u});v=f.record.name,p=we(ef(h.params,f.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&ef(u.params,f.keys.map(x=>x.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(x=>x.re.test(m)),f&&(p=f.parse(m),v=f.record.name);else{if(f=h.name?s.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw Ss(1,{location:u,currentLocation:h});v=f.record.name,p=we({},h.params,u.params),m=f.stringify(p)}const b=[];let T=f;for(;T;)b.unshift(T.record),T=T.parent;return{name:v,path:m,params:p,matched:b,meta:QS(b)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function ef(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function WS(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:GS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function GS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function tf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function QS(t){return t.reduce((e,n)=>we(e,n.meta),{})}function nf(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function lm(t,e){return e.children.some(n=>n===t||lm(t,n))}const um=/#/g,YS=/&/g,XS=/\//g,JS=/=/g,ZS=/\?/g,hm=/\+/g,e1=/%5B/g,t1=/%5D/g,fm=/%5E/g,n1=/%60/g,dm=/%7B/g,s1=/%7C/g,pm=/%7D/g,r1=/%20/g;function Al(t){return encodeURI(""+t).replace(s1,"|").replace(e1,"[").replace(t1,"]")}function i1(t){return Al(t).replace(dm,"{").replace(pm,"}").replace(fm,"^")}function Za(t){return Al(t).replace(hm,"%2B").replace(r1,"+").replace(um,"%23").replace(YS,"%26").replace(n1,"`").replace(dm,"{").replace(pm,"}").replace(fm,"^")}function o1(t){return Za(t).replace(JS,"%3D")}function a1(t){return Al(t).replace(um,"%23").replace(ZS,"%3F")}function c1(t){return t==null?"":a1(t).replace(XS,"%2F")}function $i(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function l1(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(hm," "),o=i.indexOf("="),a=$i(o<0?i:i.slice(0,o)),c=o<0?null:$i(i.slice(o+1));if(a in e){let l=e[a];Rt(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function sf(t){let e="";for(let n in t){const s=t[n];if(n=o1(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Rt(s)?s.map(i=>i&&Za(i)):[s&&Za(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function u1(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Rt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const h1=Symbol(""),rf=Symbol(""),xl=Symbol(""),gm=Symbol(""),ec=Symbol("");function zs(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function un(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(Ss(4,{from:n,to:e})):h instanceof Error?a(h):MS(h)?a(Ss(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function ia(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(f1(a)){const l=(a.__vccOpts||a)[e];l&&r.push(un(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=vS(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&un(f,n,s,i,o)()}))}}return r}function f1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function of(t){const e=rt(xl),n=rt(gm),s=W(()=>e.resolve(Kt(t.to))),r=W(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(_s.bind(null,u));if(f>-1)return f;const p=af(c[l-2]);return l>1&&af(u)===p&&h[h.length-1].path!==p?h.findIndex(_s.bind(null,c[l-2])):f}),i=W(()=>r.value>-1&&m1(n.params,s.value.params)),o=W(()=>r.value>-1&&r.value===n.matched.length-1&&im(n.params,s.value.params));function a(c={}){return g1(c)?e[Kt(t.replace)?"replace":"push"](Kt(t.to)).catch(rr):Promise.resolve()}return{route:s,href:W(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const d1=Wi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:of,setup(t,{slots:e}){const n=gt(of(t)),{options:s}=rt(xl),r=W(()=>({[cf(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[cf(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:En("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),p1=d1;function g1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function m1(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Rt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function af(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cf=(t,e,n)=>t!=null?t:e!=null?e:n,y1=Wi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=rt(ec),r=W(()=>t.route||s.value),i=rt(rf,0),o=W(()=>{let l=Kt(i);const{matched:u}=r.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=W(()=>r.value.matched[o.value]);dn(rf,W(()=>o.value+1)),dn(h1,a),dn(ec,r);const c=De();return Wt(()=>[c.value,a.value,t.name],([l,u,h],[f,p,m])=>{u&&(u.instances[h]=l,p&&p!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),l&&u&&(!p||!_s(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return lf(n.default,{Component:f,route:l});const p=h.props[u],m=p?p===!0?l.params:typeof p=="function"?p(l):p:null,b=En(f,we({},m,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return lf(n.default,{Component:b,route:l})||b}}});function lf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const v1=y1;function w1(t){const e=KS(t.routes,t),n=t.parseQuery||l1,s=t.stringifyQuery||sf,r=t.history,i=zs(),o=zs(),a=zs(),c=Of(cn);let l=cn;as&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=sa.bind(null,w=>""+w),h=sa.bind(null,c1),f=sa.bind(null,$i);function p(w,M){let R,j;return am(w)?(R=e.getRecordMatcher(w),j=M):j=w,e.addRoute(j,R)}function m(w){const M=e.getRecordMatcher(w);M&&e.removeRoute(M)}function v(){return e.getRoutes().map(w=>w.record)}function b(w){return!!e.getRecordMatcher(w)}function T(w,M){if(M=we({},M||c.value),typeof w=="string"){const ee=ra(n,w,M.path),d=e.resolve({path:ee.path},M),g=r.createHref(ee.fullPath);return we(ee,d,{params:f(d.params),hash:$i(ee.hash),redirectedFrom:void 0,href:g})}let R;if("path"in w)R=we({},w,{path:ra(n,w.path,M.path).path});else{const ee=we({},w.params);for(const d in ee)ee[d]==null&&delete ee[d];R=we({},w,{params:h(w.params)}),M.params=h(M.params)}const j=e.resolve(R,M),ve=w.hash||"";j.params=u(f(j.params));const Ie=ES(s,we({},w,{hash:i1(ve),path:j.path})),re=r.createHref(Ie);return we({fullPath:Ie,hash:ve,query:s===sf?u1(w.query):w.query||{}},j,{redirectedFrom:void 0,href:re})}function x(w){return typeof w=="string"?ra(n,w,c.value.path):we({},w)}function F(w,M){if(l!==w)return Ss(8,{from:M,to:w})}function K(w){return P(w)}function B(w){return K(we(x(w),{replace:!0}))}function ne(w){const M=w.matched[w.matched.length-1];if(M&&M.redirect){const{redirect:R}=M;let j=typeof R=="function"?R(w):R;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=x(j):{path:j},j.params={}),we({query:w.query,hash:w.hash,params:"path"in j?{}:w.params},j)}}function P(w,M){const R=l=T(w),j=c.value,ve=w.state,Ie=w.force,re=w.replace===!0,ee=ne(R);if(ee)return P(we(x(ee),{state:typeof ee=="object"?we({},ve,ee.state):ve,force:Ie,replace:re}),M||R);const d=R;d.redirectedFrom=M;let g;return!Ie&&TS(s,j,R)&&(g=Ss(16,{to:d,from:j}),nn(j,j,!0,!1)),(g?Promise.resolve(g):U(d,j)).catch(y=>Ht(y)?Ht(y,2)?y:Je(y):me(y,d,j)).then(y=>{if(y){if(Ht(y,2))return P(we({replace:re},x(y.to),{state:typeof y.to=="object"?we({},ve,y.to.state):ve,force:Ie}),M||d)}else y=de(d,j,!0,re,ve);return se(d,j,y),y})}function $(w,M){const R=F(w,M);return R?Promise.reject(R):Promise.resolve()}function U(w,M){let R;const[j,ve,Ie]=b1(w,M);R=ia(j.reverse(),"beforeRouteLeave",w,M);for(const ee of j)ee.leaveGuards.forEach(d=>{R.push(un(d,w,M))});const re=$.bind(null,w,M);return R.push(re),os(R).then(()=>{R=[];for(const ee of i.list())R.push(un(ee,w,M));return R.push(re),os(R)}).then(()=>{R=ia(ve,"beforeRouteUpdate",w,M);for(const ee of ve)ee.updateGuards.forEach(d=>{R.push(un(d,w,M))});return R.push(re),os(R)}).then(()=>{R=[];for(const ee of w.matched)if(ee.beforeEnter&&!M.matched.includes(ee))if(Rt(ee.beforeEnter))for(const d of ee.beforeEnter)R.push(un(d,w,M));else R.push(un(ee.beforeEnter,w,M));return R.push(re),os(R)}).then(()=>(w.matched.forEach(ee=>ee.enterCallbacks={}),R=ia(Ie,"beforeRouteEnter",w,M),R.push(re),os(R))).then(()=>{R=[];for(const ee of o.list())R.push(un(ee,w,M));return R.push(re),os(R)}).catch(ee=>Ht(ee,8)?ee:Promise.reject(ee))}function se(w,M,R){for(const j of a.list())j(w,M,R)}function de(w,M,R,j,ve){const Ie=F(w,M);if(Ie)return Ie;const re=M===cn,ee=as?history.state:{};R&&(j||re?r.replace(w.fullPath,we({scroll:re&&ee&&ee.scroll},ve)):r.push(w.fullPath,ve)),c.value=w,nn(w,M,R,re),Je()}let O;function pe(){O||(O=r.listen((w,M,R)=>{if(!sn.listening)return;const j=T(w),ve=ne(j);if(ve){P(we(ve,{replace:!0}),j).catch(rr);return}l=j;const Ie=c.value;as&&RS(Qh(Ie.fullPath,R.delta),xo()),U(j,Ie).catch(re=>Ht(re,12)?re:Ht(re,2)?(P(re.to,j).then(ee=>{Ht(ee,20)&&!R.delta&&R.type===_r.pop&&r.go(-1,!1)}).catch(rr),Promise.reject()):(R.delta&&r.go(-R.delta,!1),me(re,j,Ie))).then(re=>{re=re||de(j,Ie,!1),re&&(R.delta&&!Ht(re,8)?r.go(-R.delta,!1):R.type===_r.pop&&Ht(re,20)&&r.go(-1,!1)),se(j,Ie,re)}).catch(rr)}))}let ke=zs(),kt=zs(),_e;function me(w,M,R){Je(w);const j=kt.list();return j.length?j.forEach(ve=>ve(w,M,R)):console.error(w),Promise.reject(w)}function ge(){return _e&&c.value!==cn?Promise.resolve():new Promise((w,M)=>{ke.add([w,M])})}function Je(w){return _e||(_e=!w,pe(),ke.list().forEach(([M,R])=>w?R(w):M()),ke.reset()),w}function nn(w,M,R,j){const{scrollBehavior:ve}=t;if(!as||!ve)return Promise.resolve();const Ie=!R&&kS(Qh(w.fullPath,0))||(j||!R)&&history.state&&history.state.scroll||null;return zi().then(()=>ve(w,M,Ie)).then(re=>re&&DS(re)).catch(re=>me(re,w,M))}const Ze=w=>r.go(w);let it;const ot=new Set,sn={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,hasRoute:b,getRoutes:v,resolve:T,options:t,push:K,replace:B,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:kt.add,isReady:ge,install(w){const M=this;w.component("RouterLink",p1),w.component("RouterView",v1),w.config.globalProperties.$router=M,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>Kt(c)}),as&&!it&&c.value===cn&&(it=!0,K(r.location).catch(ve=>{}));const R={};for(const ve in cn)R[ve]=W(()=>c.value[ve]);w.provide(xl,M),w.provide(gm,gt(R)),w.provide(ec,c);const j=w.unmount;ot.add(w),w.unmount=function(){ot.delete(w),ot.size<1&&(l=cn,O&&O(),O=null,c.value=cn,it=!1,_e=!1),j()}}};return sn}function os(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function b1(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>_s(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>_s(l,c))||r.push(c))}return[n,s,r]}const E1=[{path:"/t-project-form/",name:"Home",component:nm,beforeRouteLeave:function(t,e,n){window.confirm("\u7DE8\u96C6\u4E2D\u306E\u3082\u306E\u306F\u4FDD\u5B58\u3055\u308C\u307E\u305B\u3093\u304C\u3001\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F")?n():n(!1)}}],T1=w1({history:PS(),routes:E1});yS();Bv(X_).use(dS).use(T1).mount("#app");
